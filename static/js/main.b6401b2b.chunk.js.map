{"version":3,"sources":["actions/setsActions.js","components/notificationTemplate/SnackErrorTemplate.js","utils/NotificationUtil.js","components/SplashScreen.js","components/Logo.js","components/LogoIcon.js","actions/accountActions.js","constants/index.js","utils/axios.js","i18n.js","serviceWorker.js","utils/settings.js","context/SettingsContext.js","reducers/accountReducer.js","reducers/equipmentCreateReducer.js","reducers/setCreateReducer.js","reducers/index.js","store/index.js","components/Auth.js","hooks/useSettings.js","theme/index.js","theme/typography.js","theme/density.js","layouts/MainLayout/TopBar/Account.js","layouts/MainLayout/TopBar/Settings.js","layouts/MainLayout/TopBar/index.js","layouts/MainLayout/index.js","layouts/EditLayout/index.js","components/LoadingScreen.js","components/AuthGuard.js","components/GuestGuard.js","Routes.js","App.js","index.js","services/authService.js"],"names":["INITIAL_CREATE","UPDATE_SET_DETAIL_FORM","UPDATE_SET_SELECT_TOOLS_FORM","RESET_FORM","initCreate","set","dispatch","a","type","payload","updateInformationForm","id","name","hospital","description","active","updateSelectEquipmentsForm","selectedItems","resetForm","useStyles","makeStyles","theme","root","breakpoints","up","minWidth","headerTypo","paddingLeft","marginLeft","actionRoot","padding","icons","expand","transform","transition","transitions","create","duration","shortest","color","expandOpen","collapse","backgroundColor","palette","error","dark","maxWidth","button","textTransform","variantError","main","SnackErrorTemplate","React","forwardRef","props","ref","classes","closeSnackbar","useSnackbar","useState","expanded","setExpanded","err","message","data","Card","className","CardActions","Typography","variant","IconButton","aria-label","classnames","title","onClick","Collapse","in","timeout","unmountOnExit","Paper","gutterBottom","errorCode","errorMessage","activityId","useSnackbarRef","InnerNotificationConfigurator","setUseSnackbarRef","useSnackbarRefProp","NotificationConfigurator","arcAction","success","msg","this","toast","warning","info","errorObj","enqueueSnackbar","persist","content","key","alignItems","background","default","display","flexDirection","height","justifyContent","left","spacing","position","top","width","zIndex","logo","SlashScreen","mb","Logo","alt","src","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","SILENT_LOGIN","LOGOUT","UPDATE_PROFILE","login","email","password","authService","loginWithEmailAndPassword","user","setUserData","logout","forgotPassWordAction","forgotPasswordByEmail","resetPasswordAction","newPassword","confirmPassword","resetPasswordService","THEMES","LIGHT","ONE_DARK","LANGUAGES","THAI","ENGLISH","PAGING","PAGE","PAGE_SIZE","TOTAL","PAGE_SIZES","TRANSLATE_NS","HOME","SETS","EQUIPMENTS","TRANSLATIONS","ERRORS","BORROWING_HISTORY","USER_MANAGEMENT","BORROWING_STATUS","CREATED","BORROWED","RETURNED","instance","axios","baseURL","process","i18n","use","LanguageDetector","HttpApi","initReactI18next","init","lng","fallbackLng","ns","defaultNS","debug","interpolation","escapeValue","react","wait","useSuspense","t","undefined","console","Boolean","window","location","hostname","match","storeSettings","settings","localStorage","setItem","JSON","stringify","SettingsContext","createContext","defaultSettings","direction","responsiveFontSizes","language","SettingsProvider","children","currentSettings","setCurrentSettings","useEffect","document","dir","Provider","value","saveSettings","updatedSettings","mergedSettings","_","merge","Consumer","initialState","accountReducer","state","action","produce","draft","equipments","byId","allIds","totalEquipments","totalItems","createdBy","createdTimestamp","lastModifiedBy","lastModifiedTimestamp","setCreateReducer","log","Object","keys","forEach","k","rootReducer","combineReducers","account","setCreate","loggerMiddleware","createLogger","Auth","useDispatch","isLoading","setLoading","setAxiosInterceptors","onLogout","handleAuthentication","isAuthenticated","loginInWithToken","initAuth","SplashScreen","useSettings","useContext","baseConfig","typography","fontFamily","join","h1","fontWeight","fontSize","letterSpacing","h2","h3","h4","h5","h6","overline","body2","density","MuiButton","size","MuiFilledInput","margin","MuiFormControl","MuiFormHelperText","MuiIconButton","MuiInputBase","MuiInputLabel","MuiListItem","dense","MuiOutlinedInput","MuiFab","MuiTable","MuiTextField","MuiToolbar","overrides","MuiLinearProgress","borderRadius","overflow","MuiListItemIcon","MuiChip","sizeSmall","marginRight","themeConfigs","input","opacity","colors","grey","hover","hoverOpacity","selected","selectedOpacity","disabled","disabledBackground","disabledOpacity","focus","focusOpacity","activatedOpacity","paper","common","white","header","primary","light","secondary","text","hint","icon","divider","createTheme","themeConfig","find","warn","Error","createMuiTheme","avatar","popover","Account","history","useHistory","useRef","useSelector","isOpen","setOpen","handleClose","handleLogout","push","Box","component","ButtonBase","Avatar","Hidden","smDown","firstName","lastName","Menu","onClose","anchorOrigin","vertical","horizontal","keepMounted","PaperProps","getContentAnchorEl","anchorEl","current","open","MenuItem","RouterLink","to","Settings","useTranslation","values","setValues","moment","locale","changeLanguage","handleChange","field","Tooltip","SvgIcon","Popover","mt","TextField","fullWidth","label","onChange","event","target","select","SelectProps","native","map","capitalCase","entries","Button","drawer","boxShadow","toolbar","minHeight","logoText","TopBar","rest","AppBar","clsx","Toolbar","Link","underline","LogoIcon","ml","flexGrow","wrapper","flex","paddingTop","contentContainer","MainLayout","LoadingScreen","NProgress","start","done","LinearProgress","AuthGuard","GuestGuard","routesConfig","exact","path","guard","layout","lazy","routes","EditLayout","Routes","renderRoutes","fallback","route","i","Guard","Fragment","Layout","Component","render","createBrowserHistory","jss","plugins","jssPreset","rtl","createStyles","boxSizing","html","body","App","ThemeProvider","StylesProvider","utils","MomentUtils","maxSnack","enableES5","store","preloadedState","middlewares","thunkMiddleware","middlewareEnhancer","composeWithDevTools","applyMiddleware","enhancers","composedEnhancers","compose","createStore","configureStore","storedData","getItem","parse","restoreSettings","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","interceptors","response","status","setSession","Promise","reject","username","resolve","post","accessToken","get","defaults","headers","Authorization","removeItem","getAccessToken","isValidToken","decoded","jwtDecode","currentTime","Date","now","exp"],"mappings":"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","file":"static/js/main.b6401b2b.chunk.js","sourcesContent":["export const INITIAL_CREATE = '@sets/initial-create'\r\nexport const UPDATE_SET_DETAIL_FORM = '@sets/create-set/step1'\r\nexport const UPDATE_SET_SELECT_TOOLS_FORM = '@sets/create-set/step2'\r\nexport const RESET_FORM = '@sets/reset-form'\r\n\r\nexport function initCreate(set){\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: INITIAL_CREATE,\r\n      payload: set ? {...set} : null\r\n    })\r\n  }\r\n}\r\n\r\nexport function updateInformationForm({id, name, type, hospital, description, active}){\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: UPDATE_SET_DETAIL_FORM,\r\n      payload: {\r\n        id: id,\r\n        name: name,\r\n        hospital: hospital,\r\n        description: description,\r\n        type: type,\r\n        active: active\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function updateSelectEquipmentsForm(selectedItems){\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: UPDATE_SET_SELECT_TOOLS_FORM,\r\n      payload: selectedItems\r\n    })\r\n  }\r\n}\r\n\r\nexport function resetForm(){\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: RESET_FORM\r\n    })\r\n  }\r\n}","import React, { useState } from 'react';\r\nimport classnames from 'classnames';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useSnackbar } from 'notistack';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        [theme.breakpoints.up('sm')]: {\r\n            minWidth: '430px !important',//344px\r\n        },\r\n    },\r\n    headerTypo:{\r\n        paddingLeft: '4px',\r\n        marginLeft: '8px'\r\n    },\r\n    actionRoot: {\r\n        padding: '4px 4px 4px 8px',\r\n    },\r\n    icons: {\r\n        marginLeft: 'auto !important',\r\n    },\r\n    expand: {\r\n        padding: '8px 8px',\r\n        transform: 'rotate(0deg)',\r\n        transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n        }),\r\n        color: '#fff'\r\n    },\r\n    expandOpen: {\r\n        transform: 'rotate(180deg)',\r\n    },\r\n    collapse: {\r\n        padding: 16,\r\n        backgroundColor: theme.palette.error.dark,\r\n        color: '#fff',\r\n        maxWidth: '430px'\r\n    },\r\n    button: {\r\n        padding: 0,\r\n        textTransform: 'none',\r\n    },\r\n    variantError: {\r\n        backgroundColor: theme.palette.error.main,\r\n        color: '#fff'\r\n    },\r\n}));\r\n\r\nconst SnackErrorTemplate = React.forwardRef((props, ref) => {\r\n    const classes = useStyles();\r\n    const { closeSnackbar } = useSnackbar();\r\n    const [expanded, setExpanded] = useState(false);\r\n\r\n    const handleExpandClick = () => {\r\n        setExpanded(!expanded);\r\n    };\r\n\r\n    const handleDismiss = () => {\r\n        closeSnackbar(props.id);\r\n    };\r\n\r\n    let err = props.message.data;\r\n    \r\n    return (\r\n        <Card ref={ref} className={classes.root}>\r\n            <Card className={classes.variantError}>\r\n                <CardActions classes={{ root: classes.actionRoot }}>\r\n                    <ErrorIcon className={classes.headerTypo} />\r\n                    <Typography variant=\"subtitle2\">Sorry, something went wrong</Typography>\r\n                    <div className={classes.icons}>\r\n                    <IconButton\r\n                        aria-label=\"Show more\"\r\n                        className={classnames(classes.expand, { [classes.expandOpen]: expanded })}\r\n                        title=\"click to see more details\"\r\n                        onClick={handleExpandClick}\r\n                    >\r\n                        <ExpandMoreIcon />\r\n                    </IconButton>\r\n                    <IconButton className={classes.expand} onClick={handleDismiss}>\r\n                        <CloseIcon />\r\n                    </IconButton>\r\n                    </div>\r\n                </CardActions>\r\n                <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                    <Paper className={classes.collapse}>\r\n                        <Typography gutterBottom>Error Code : {err.errorCode}</Typography>\r\n                        <Typography gutterBottom>Error Massage : {err.errorMessage} </Typography>\r\n                        <Typography gutterBottom>Activity Id : {err.activityId}</Typography>\r\n                    </Paper>\r\n                </Collapse>\r\n            </Card>\r\n        </Card>\r\n    );\r\n});\r\n\r\nexport default SnackErrorTemplate;","import { useSnackbar } from 'notistack'\r\nimport React from 'react'\r\nimport SnackErrorTemplate from 'src/components/notificationTemplate/SnackErrorTemplate'\r\n\r\nconst InnerNotificationConfigurator = (props) => {\r\n  props.setUseSnackbarRef(useSnackbar())\r\n  return null;\r\n}\r\n\r\nlet useSnackbarRef;\r\nconst setUseSnackbarRef = (useSnackbarRefProp) => {\r\n  useSnackbarRef = useSnackbarRefProp\r\n}\r\n\r\nexport const NotificationConfigurator = () => {\r\n  return <InnerNotificationConfigurator setUseSnackbarRef={setUseSnackbarRef} />\r\n}\r\n\r\nexport const arcAction = {\r\n  success(msg) {\r\n    this.toast(msg, 'success')\r\n  },\r\n  warning(msg) {\r\n    this.toast(msg, 'warning')\r\n  },\r\n  info(msg) {\r\n    this.toast(msg, 'info')\r\n  },\r\n  error(msg) {\r\n    this.toast(msg, 'error')\r\n  },\r\n  errorObj(msg) {\r\n    useSnackbarRef.enqueueSnackbar(null, {\r\n      persist: true,\r\n      content: key => <SnackErrorTemplate id={key} message={msg}/>\r\n    });\r\n  },\r\n  toast(msg, variant = 'default') {\r\n    useSnackbarRef.enqueueSnackbar(msg, { variant })\r\n  },\r\n}","import React from 'react';\r\nimport {\r\n  Box,\r\n  CircularProgress,\r\n  makeStyles\r\n} from '@material-ui/core';\r\nimport Logo from 'src/components/Logo';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    alignItems: 'center',\r\n    backgroundColor: theme.palette.background.default,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    height: '100%',\r\n    justifyContent: 'center',\r\n    left: 0,\r\n    padding: theme.spacing(3),\r\n    position: 'fixed',\r\n    top: 0,\r\n    width: '100%',\r\n    zIndex: 2000\r\n  },\r\n  logo: {\r\n    width: 200,\r\n    maxWidth: '100%'\r\n  }\r\n}));\r\n\r\nfunction SlashScreen() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Box\r\n        display=\"flex\"\r\n        justifyContent=\"center\"\r\n        mb={6}\r\n      >\r\n        <Logo className={classes.logo} />\r\n      </Box>\r\n      <CircularProgress />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SlashScreen;","import React from 'react';\r\nfunction Logo(props) {\r\n  return (\r\n    <img\r\n      alt=\"Logo\"\r\n      src=\"/logo.png\"\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport default Logo;","import React from 'react';\r\nfunction Logo(props) {\r\n  return (\r\n    <img\r\n      alt=\"Logo\"\r\n      src=\"/logo40.png\"\r\n      {...props}\r\n    />\r\n  );\r\n}\r\nexport default Logo;","import axios from 'src/utils/axios';\r\nimport authService from 'src/services/authService';\r\n\r\nexport const LOGIN_REQUEST = '@account/login-request';\r\nexport const LOGIN_SUCCESS = '@account/login-success';\r\nexport const LOGIN_FAILURE = '@account/login-failure';\r\nexport const SILENT_LOGIN = '@account/silent-login';\r\nexport const LOGOUT = '@account/logout';\r\nexport const REGISTER = '@account/register';\r\nexport const UPDATE_PROFILE = '@account/update-profile';\r\nexport const FORGOT_PASSWORD = '@account/forgot-password';\r\nexport const FORGOT_PASSWORD_FAILURE = '@account/forgot-password-failure';\r\nexport const RESET_PASSWORD_SUCCESS = '@account/reset-password';\r\nexport const RESET_PASSWORD_FAILURE = '@account/reset-password-failure';\r\n\r\nexport function login(email, password) {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch({ type: LOGIN_REQUEST });\r\n\r\n      const user = await authService.loginWithEmailAndPassword(email, password);\r\n      dispatch({\r\n        type: LOGIN_SUCCESS,\r\n        payload: {\r\n          user\r\n        }\r\n      });\r\n    } catch (error) {\r\n      dispatch({ type: LOGIN_FAILURE });\r\n      throw error;\r\n    }\r\n  };\r\n}\r\n\r\nexport function setUserData(user) {\r\n  return (dispatch) => dispatch({\r\n    type: SILENT_LOGIN,\r\n    payload: {\r\n      user\r\n    }\r\n  });\r\n}\r\n\r\nexport function logout() {\r\n  return async (dispatch) => {\r\n    authService.logout();\r\n\r\n    dispatch({\r\n      type: LOGOUT\r\n    });\r\n  };\r\n}\r\n\r\nexport function register() {\r\n  return true;\r\n}\r\n\r\nexport function updateProfile(update) {\r\n  const request = axios.post('/api/account/profile', { update });\r\n\r\n  return (dispatch) => {\r\n    request.then((response) => dispatch({\r\n      type: UPDATE_PROFILE,\r\n      payload: response.data\r\n    }));\r\n  };\r\n}\r\n\r\nexport function forgotPassWordAction(email) {\r\n  return async (dispatch) => {\r\n    try {\r\n      const message = await authService.forgotPasswordByEmail(email);\r\n      dispatch({\r\n        type: FORGOT_PASSWORD,\r\n        payload: {\r\n          message\r\n        }\r\n      });\r\n    } catch (error) {\r\n      dispatch({ type: FORGOT_PASSWORD_FAILURE });\r\n      throw error;\r\n    }\r\n  };\r\n}\r\n\r\nexport function resetPasswordAction(newPassword, confirmPassword) {\r\n  return async (dispatch) => {\r\n    try {\r\n      const message = await authService.resetPasswordService(newPassword, confirmPassword);\r\n      dispatch({\r\n        type: RESET_PASSWORD_SUCCESS,\r\n        payload: {\r\n          message,\r\n        }\r\n      });\r\n    } catch (error) {\r\n      dispatch({ type: RESET_PASSWORD_FAILURE });\r\n      throw error;\r\n    }\r\n  };\r\n}","/* eslint-disable import/prefer-default-export */\r\nexport const THEMES = {\r\n  LIGHT: 'LIGHT',\r\n  ONE_DARK: 'ONE_DARK'\r\n}\r\n\r\nexport const LANGUAGES = {\r\n  THAI: 'th',\r\n  ENGLISH: 'en'\r\n}\r\n\r\nexport const PAGING = {\r\n  PAGE: 1,\r\n  PAGE_SIZE: 8,\r\n  TOTAL: 1,\r\n  PAGE_SIZES: [2, 4, 8, 12, 40]\r\n}\r\n\r\nexport const TRANSLATE_NS = {\r\n  HOME: \"home\",\r\n  SETS: \"sets\",\r\n  EQUIPMENTS:\"equipments\",\r\n  TRANSLATIONS: \"translations\",\r\n  ERRORS: \"errors\",\r\n  BORROWING_HISTORY: \"borrowingHistory\",\r\n  USER_MANAGEMENT: \"userManagement\"\r\n}\r\n\r\nexport const BORROWING_STATUS = {\r\n  CREATED: 'CREATED',\r\n  BORROWED: 'BORROWED',\r\n  RETURNED: 'RETURNED'\r\n}","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL\r\n})\r\n\r\nexport default instance;","import i18n from \"i18next\";\r\nimport HttpApi from \"i18next-http-backend\";\r\nimport LanguageDetector from \"i18next-browser-languagedetector\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\ni18n\r\n  .use(LanguageDetector)\r\n  .use(HttpApi)\r\n  .use(initReactI18next) // passes i18n down to react-i18next\r\n  .init(\r\n    {\r\n      lng: \"th\",\r\n      fallbackLng: [\"th\"], // use en if detected lng is not available\r\n      ns: [\"translations\"],\r\n      defaultNS: [\"translations\"],\r\n      debug: false,\r\n      interpolation: {\r\n        escapeValue: false, // react already safes from xss\r\n      },\r\n      react: {\r\n        wait: true,\r\n        useSuspense: true,\r\n      },\r\n    },\r\n    (err, t) => {\r\n      if (err !== undefined) {\r\n        console.error(\"Error loading i18n \" + err);\r\n      }\r\n    }\r\n  );\r\nexport default i18n;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","export function restoreSettings() {\r\n    let settings = null;\r\n  \r\n    try {\r\n      const storedData = localStorage.getItem('settings');\r\n  \r\n      if (storedData) {\r\n        settings = JSON.parse(storedData);\r\n      }\r\n    } catch (err) {\r\n      // If stored data is not a strigified JSON this might fail,\r\n      // that's why we catch the error\r\n    }\r\n  \r\n    return settings;\r\n  }\r\n  \r\n  export function storeSettings(settings) {\r\n    localStorage.setItem('settings', JSON.stringify(settings));\r\n  }","import React, {\r\n    createContext,\r\n    useState,\r\n    useEffect\r\n  } from 'react'\r\n  import PropTypes from 'prop-types'\r\n  import _ from 'lodash'\r\n  import { THEMES, LANGUAGES } from 'src/constants'\r\n  import { storeSettings } from 'src/utils/settings'\r\n  \r\n  const SettingsContext = createContext()\r\n  \r\n  const defaultSettings = {\r\n    direction: 'ltr',\r\n    responsiveFontSizes: true,\r\n    theme: THEMES.ONE_DARK,\r\n    language: LANGUAGES.THAI\r\n  }\r\n  \r\n  export function SettingsProvider({ settings, children }) {\r\n    const [currentSettings, setCurrentSettings] = useState(settings || defaultSettings)\r\n  \r\n    const handleSaveSettings = (updatedSettings = {}) => {\r\n      const mergedSettings = _.merge({}, currentSettings, updatedSettings)\r\n  \r\n      setCurrentSettings(mergedSettings)\r\n      storeSettings(mergedSettings)\r\n    }\r\n  \r\n    useEffect(() => {\r\n      document.dir = currentSettings.direction\r\n    }, [currentSettings])\r\n  \r\n    return (\r\n      <SettingsContext.Provider\r\n        value={{\r\n          settings: currentSettings,\r\n          saveSettings: handleSaveSettings\r\n        }}\r\n      >\r\n        {children}\r\n      </SettingsContext.Provider>\r\n    )\r\n  }\r\n  \r\n  SettingsProvider.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    settings: PropTypes.object\r\n  }\r\n  \r\n  export const SettingsConsumer = SettingsContext.Consumer\r\n  \r\n  export default SettingsContext  ","/* eslint-disable no-param-reassign */\r\nimport produce from 'immer';\r\nimport {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  LOGOUT,\r\n  SILENT_LOGIN,\r\n  UPDATE_PROFILE\r\n} from 'src/actions/accountActions';\r\n\r\nconst initialState = {\r\n  user: null\r\n};\r\n\r\nconst accountReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST: {\r\n      return produce(state, (draft) => {\r\n        // Ensure we clear current session\r\n        draft.user = null;\r\n      });\r\n    }\r\n\r\n    case LOGIN_SUCCESS: {\r\n      const { user } = action.payload;\r\n\r\n      return produce(state, (draft) => {\r\n        draft.user = user;\r\n      });\r\n    }\r\n\r\n    case LOGIN_FAILURE: {\r\n      return produce(state, () => {\r\n        // Maybe store error\r\n      });\r\n    }\r\n\r\n    case LOGOUT: {\r\n      return produce(state, (draft) => {\r\n        draft.user = null;\r\n      });\r\n    }\r\n\r\n    case SILENT_LOGIN: {\r\n      const { user } = action.payload;\r\n\r\n      return produce(state, (draft) => {\r\n        draft.user = user;\r\n      });\r\n    }\r\n\r\n    case UPDATE_PROFILE: {\r\n      const { user } = action.payload;\r\n\r\n      return produce(state, (draft) => {\r\n        draft.user = user;\r\n      });\r\n    }\r\n\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport default accountReducer;","/* eslint-disable no-param-reassign */\r\nimport produce from 'immer';\r\nimport {\r\n INITIAL_CREATE,\r\n UPDATE_EQUIPMENT_DETAIL_FORM,\r\n UPDATE_EQUIPMENT_IMAGE_FORM,\r\n RESET_FORM\r\n} from 'src/actions/equipmentActions';\r\n\r\nconst initialState = {\r\n equipment: {\r\n  id: '',\r\n  name: '',\r\n  description: '',\r\n  rfidList: [],\r\n  imageBase64: '',\r\n  imageLists: {\r\n   base64: '',\r\n   isMainPic: false,\r\n   preview: ''\r\n  },\r\n  media: '' /* รูปภาพที่จะทำเป็นภาพหน้าปกตอนโชว์ list */\r\n }\r\n};\r\n\r\nconst equipmentCreateReducer = (state = initialState, { type, payload }) => {\r\n switch (type) {\r\n  case INITIAL_CREATE: {\r\n   console.log('payload: ', payload);\r\n\r\n   if (!payload) {\r\n    return produce(state, draft => {\r\n     // Ensure we clear current session\r\n     Object.keys(initialState.equipment).forEach(k => {\r\n      draft.equipment[k] = initialState.equipment[k];\r\n     });\r\n    });\r\n   } else {\r\n    return produce(state, draft => {\r\n     Object.keys(initialState.equipment).forEach(key => {\r\n      // if(key === 'resource') return;\r\n      // if(key === 'equipmentIds'){\r\n      //   const equipmentIds = payload[key];\r\n      //   const setId = payload['id'];\r\n      //   const resource = payload['resource'];\r\n      //   const equipments = payload[\"equipments\"];\r\n      //   const resourceItems = resource[setId];\r\n      //   const byId = {};\r\n\r\n      //   let totalItems = equipmentIds\r\n      //     ?.map(equipmentId => {\r\n      //       byId[equipmentId] = equipments[equipmentId];\r\n      //       return resourceItems[equipmentId];\r\n      //     })\r\n      //     .reduce((acc, cur) => acc + cur, 0);\r\n\r\n      //   totalItems = totalItems ? totalItems: 0;\r\n\r\n      // draft.set[key] = {\r\n      //   byId: byId,\r\n      //   allIds: [...equipmentIds],\r\n      //   totalEquipments: equipmentIds.length,\r\n      //   totalItems: totalItems\r\n      // }\r\n      //}\r\n      //else\r\n      draft.equipment[key] = payload[key];\r\n     });\r\n    });\r\n   }\r\n  }\r\n  case UPDATE_EQUIPMENT_DETAIL_FORM: {\r\n   const { id, name, rfidList, description } = payload;\r\n\r\n   return produce(state, draft => {\r\n    draft.equipment.id = id;\r\n    draft.equipment.name = name;\r\n    draft.equipment.description = description;\r\n    draft.equipment.rfidList = rfidList;\r\n   });\r\n  }\r\n  // case UPDATE_SET_SELECT_TOOLS_FORM: {\r\n  //   const { byId, allIds, totalEquipments, totalItems } = payload;\r\n\r\n  //   return produce(state, draft => {\r\n  //     draft.set.equipments.byId = byId;\r\n  //     draft.set.equipments.allIds = allIds;\r\n  //     draft.set.equipments.totalEquipments = totalEquipments;\r\n  //     draft.set.equipments.totalItems = totalItems;\r\n  //   });\r\n  // }\r\n  case RESET_FORM: {\r\n   return produce(state, draft => {\r\n    // Ensure we clear current session\r\n    Object.keys(initialState.equipment).forEach(k => {\r\n     draft.equipment[k] = initialState.equipment[k];\r\n    });\r\n   });\r\n  }\r\n  default: {\r\n   return state;\r\n  }\r\n }\r\n};\r\n\r\nexport default equipmentCreateReducer;\r\n","/* eslint-disable no-param-reassign */\r\nimport produce from 'immer';\r\nimport {\r\n  INITIAL_CREATE,\r\n  UPDATE_SET_DETAIL_FORM,\r\n  UPDATE_SET_SELECT_TOOLS_FORM,\r\n  RESET_FORM\r\n} from 'src/actions/setsActions';\r\n\r\nconst initialState = {\r\n  set: {\r\n    id: '',\r\n    name: '',\r\n    active: false,\r\n    description: '',\r\n    equipments: {\r\n      byId: { /* key คือ equipment id และ value คือ object ของ equipment และมี property \"amount\"  */ },\r\n      allIds: [ /* list ของ equipment id */],\r\n      totalEquipments: 0,\r\n      totalItems: 0\r\n    },\r\n    createdBy: \"\",\r\n    createdTimestamp: \"\",\r\n    lastModifiedBy: \"\",\r\n    lastModifiedTimestamp: \"\"\r\n  }\r\n};\r\n\r\nconst setCreateReducer = (state = initialState, {type, payload}) => {\r\n  switch(type){\r\n    case INITIAL_CREATE: {\r\n      console.log('payload: ', payload)\r\n\r\n      if(!payload){\r\n        return produce(state, (draft)=> {\r\n          // Ensure we clear current session\r\n          Object.keys(initialState.set).forEach((k)=> {\r\n            draft.set[k] = initialState.set[k]\r\n          })\r\n        })\r\n      }\r\n      else{\r\n        return produce(state, (draft)=> {\r\n          Object.keys(initialState.set).forEach((key)=> {\r\n            draft.set[key] = payload[key]\r\n          })\r\n        })\r\n      }\r\n    }\r\n    case UPDATE_SET_DETAIL_FORM: {\r\n      const { id, type, name, hospital, active, description } = payload\r\n\r\n      return produce(state, (draft)=> {\r\n        draft.set.id = id\r\n        draft.set.type = type\r\n        draft.set.name = name\r\n        draft.set.hospital = hospital\r\n        draft.set.active = active\r\n        draft.set.description = description\r\n      })\r\n    }\r\n    case UPDATE_SET_SELECT_TOOLS_FORM: {\r\n      const {byId, allIds, totalEquipments, totalItems} = payload\r\n\r\n      return produce(state, (draft)=> {\r\n        draft.set.equipments.byId = byId\r\n        draft.set.equipments.allIds = allIds\r\n        draft.set.equipments.totalEquipments = totalEquipments\r\n        draft.set.equipments.totalItems = totalItems\r\n      })\r\n    }\r\n    case RESET_FORM: {\r\n      return produce(state, (draft)=> {\r\n        // Ensure we clear current session\r\n        Object.keys(initialState.set).forEach((k)=> {\r\n          draft.set[k] = initialState.set[k]\r\n        })\r\n      })\r\n    }\r\n    default: {\r\n      return state\r\n    }\r\n  }\r\n}\r\n\r\nexport default setCreateReducer","import { combineReducers } from 'redux';\r\nimport accountReducer from './accountReducer';\r\nimport equipmentCreateReducer from './equipmentCreateReducer';\r\nimport setCreateReducer from './setCreateReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n account: accountReducer,\r\n //equipmentCreate: equipmentCreateReducer,\r\n setCreate: setCreateReducer\r\n});\r\n\r\nexport default rootReducer;\r\n","/* eslint-disable import/prefer-default-export */\r\nimport { applyMiddleware, createStore, compose } from 'redux';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { createLogger } from 'redux-logger';\r\nimport rootReducer from 'src/reducers';\r\n\r\nconst loggerMiddleware = createLogger();\r\n\r\nexport function configureStore(preloadedState = {}) {\r\n  const middlewares = [thunkMiddleware];\r\n\r\n  if (process.env.REACT_APP_ENABLE_REDUX_LOGGER) {\r\n    middlewares.push(loggerMiddleware);\r\n  }\r\n\r\n  const middlewareEnhancer = composeWithDevTools(\r\n    applyMiddleware(...middlewares)\r\n  );\r\n\r\n  const enhancers = [middlewareEnhancer];\r\n  const composedEnhancers = compose(...enhancers);\r\n\r\n  const store = createStore(rootReducer, preloadedState, composedEnhancers);\r\n  \r\n  return store;\r\n}","import React, {\r\n    useEffect,\r\n    useState\r\n  } from 'react';\r\n  import { useDispatch } from 'react-redux';\r\n  import PropTypes from 'prop-types';\r\n  import SplashScreen from 'src/components/SplashScreen';\r\n  import { setUserData, logout } from 'src/actions/accountActions';\r\n  import authService from 'src/services/authService';\r\n  \r\n  function Auth({ children }) {\r\n    const dispatch = useDispatch();\r\n    const [isLoading, setLoading] = useState(true);\r\n  \r\n    useEffect(() => {\r\n      const initAuth = async () => {\r\n        authService.setAxiosInterceptors({\r\n          onLogout: () => dispatch(logout())\r\n        });\r\n  \r\n        authService.handleAuthentication();\r\n  \r\n        if (authService.isAuthenticated()) {\r\n          const user = await authService.loginInWithToken();\r\n  \r\n          await dispatch(setUserData(user));\r\n        }\r\n  \r\n        setLoading(false);\r\n      };\r\n  \r\n      initAuth();\r\n    }, [dispatch]);\r\n  \r\n    if (isLoading) {\r\n      return <SplashScreen />;\r\n    }\r\n  \r\n    return children;\r\n  }\r\n  \r\n  Auth.propTypes = {\r\n    children: PropTypes.any\r\n  };\r\n  \r\n  export default Auth;","import { useContext } from 'react';\r\nimport SettingsContext from 'src/context/SettingsContext';\r\n\r\nexport default function useSettings() {\r\n  const context = useContext(SettingsContext);\r\n\r\n  return context;\r\n}","/* eslint-disable no-console */\r\n/* eslint-disable import/prefer-default-export */\r\nimport _ from 'lodash';\r\nimport { colors, createMuiTheme, responsiveFontSizes } from '@material-ui/core';\r\nimport typography from './typography';\r\nimport density from './density';\r\nimport { THEMES } from 'src/constants';\r\n\r\nconst baseConfig = {\r\n  direction: 'ltr',\r\n  typography,\r\n  density,\r\n  overrides: {\r\n    MuiLinearProgress: {\r\n      root: {\r\n        borderRadius: 3,\r\n        overflow: 'hidden'\r\n      }\r\n    },\r\n    MuiListItemIcon: {\r\n      root: {\r\n        minWidth: 32\r\n      }\r\n    },\r\n    MuiChip: {\r\n      root: {\r\n        backgroundColor: 'rgba(0,0,0,0.075)'\r\n      }\r\n    },\r\n    MuiIconButton: {\r\n      sizeSmall: {\r\n        // Adjust spacing to reach minimal touch target hitbox\r\n        marginLeft: 4,\r\n        marginRight: 4,\r\n        padding: 12\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nconst themeConfigs = [\r\n  {\r\n    name: THEMES.LIGHT,\r\n    overrides: {\r\n      MuiInputBase: {\r\n        input: {\r\n          '&::placeholder': {\r\n            opacity: 1,\r\n            color: colors.grey[400]\r\n          }\r\n        }\r\n      }\r\n    },\r\n    palette: {\r\n      type: 'light',\r\n      action: {\r\n        // active: colors.grey[500]\r\n        active: '#00ab8e', //primary dark\r\n        hover: 'rgba(255, 255, 255, 0.08)',\r\n        hoverOpacity: '0.08',\r\n        selected: 'rgba(255, 255, 255, 0.16)',\r\n        selectedOpacity: '0.16',\r\n        disabled: 'rgba(0, 0, 0, 0.3)',\r\n        disabledBackground: 'rgba(33, 222, 190, 0.3)',\r\n        disabledOpacity: '0.5',\r\n        focus: 'rgba(255, 255, 255, 0.12)',\r\n        focusOpacity: '0.12',\r\n        activatedOpacity: '0.24'\r\n      },\r\n      background: {\r\n        default: '#f4f6f8',\r\n        dark: '#f4f6f8',\r\n        paper: colors.common.white,\r\n        header:\r\n          'linear-gradient(90deg, rgba(124,235,216,1) 0%, rgba(0,119,180,1) 100%)'\r\n      },\r\n      primary: {\r\n        light: '#6efff0',\r\n        main: '#21debe',\r\n        dark: '#00ab8e'\r\n      },\r\n      secondary: {\r\n        light: '#73a4ff',\r\n        main: '#3376e1',\r\n        dark: '#004bae'\r\n      },\r\n      error: {\r\n        light: '#ff7862',\r\n        main: '#ed4337',\r\n        dark: '#b3000e'\r\n      },\r\n      warning: {\r\n        light: '#ffe97d',\r\n        main: '#ffb74d',\r\n        dark: '#c88719'\r\n      },\r\n      info: {\r\n        light: '#5eb8ff',\r\n        main: '#0288d1',\r\n        dark: '#005b9f'\r\n      },\r\n      success: {\r\n        light: '#99d066',\r\n        main: '#689f38',\r\n        dark: '#387002'\r\n      },\r\n      text: {\r\n        primary: '#424242',\r\n        secondary: '#616161',\r\n        disabled: 'rgba(255, 255, 255, 0.5)',\r\n        hint: 'rgba(255, 255, 255, 0.5)',\r\n        icon: 'rgba(255, 255, 255, 0.5)',\r\n        divider: 'rgba(255, 255, 255, 0.12)'\r\n      }\r\n    }\r\n  },\r\n  {\r\n    name: THEMES.ONE_DARK,\r\n    palette: {\r\n      type: 'dark',\r\n      action: {\r\n        active: '#767ea5', // primary light\r\n        hover: 'rgba(255, 255, 255, 0.08)',\r\n        hoverOpacity: '0.08',\r\n        selected: 'rgba(255, 255, 255, 0.16)',\r\n        selectedOpacity: '0.16',\r\n        disabled: 'rgba(255, 255, 255, 0.1)',\r\n        disabledBackground: 'rgba(73, 82, 118, 0.1)',\r\n        disabledOpacity: '0.5',\r\n        focus: 'rgba(255, 255, 255, 0.12)',\r\n        focusOpacity: '0.12',\r\n        activatedOpacity: '0.24'\r\n      },\r\n      background: {\r\n        default: '#141d3b',\r\n        dark: '#1e2a4a', // dark primary\r\n        paper: '#1e2a4a', // dark primary\r\n        light: '#767ea5', // light primary\r\n        header: 'linear-gradient(to bottom,#495276,#141d3b)'\r\n      },\r\n      primary: {\r\n        light: '#767ea5',\r\n        main: '#495276',\r\n        dark: '#1e2a4a'\r\n      },\r\n      secondary: {\r\n        light: '#aba870',\r\n        main: '#7b7944',\r\n        dark: '#4e4d1b'\r\n      },\r\n      error: {\r\n        light: '#ff7862',\r\n        main: '#ed4337',\r\n        dark: '#b3000e'\r\n      },\r\n      warning: {\r\n        light: '#ffe97d',\r\n        main: '#ffb74d',\r\n        dark: '#c88719'\r\n      },\r\n      info:{\r\n        light: '#c3fdff',\r\n        main: '#90caf9',\r\n        dark: '#5d99c6'\r\n      },\r\n      success: {\r\n        light: '#99d066',\r\n        main: '#689f38',\r\n        dark: '#387002'\r\n      },\r\n      text: {\r\n        primary: '#f5f5f5',\r\n        secondary: '#e0e0e0',\r\n        disabled: 'rgba(255, 255, 255, 0.5)',\r\n        hint: 'rgba(255, 255, 255, 0.5)',\r\n        icon: 'rgba(255, 255, 255, 0.5)',\r\n        divider: 'rgba(255, 255, 255, 0.12)'\r\n      }\r\n    }\r\n  }\r\n];\r\n\r\nexport function createTheme(settings = {}) {\r\n  let themeConfig = themeConfigs.find(theme => theme.name === settings.theme);\r\n\r\n  if (!themeConfig) {\r\n    console.warn(new Error(`The theme ${settings.theme} is not valid`));\r\n    [themeConfig] = themeConfigs;\r\n  }\r\n\r\n  let theme = createMuiTheme(\r\n    _.merge({}, baseConfig, themeConfig, { direction: settings.direction })\r\n  );\r\n\r\n  if (settings.responsiveFontSizes) {\r\n    theme = responsiveFontSizes(theme);\r\n  }\r\n\r\n  return theme;\r\n}\r\n","export default {\r\n    fontFamily: [\r\n      '-apple-system',\r\n        'BlinkMacSystemFont',\r\n        'Poppins',\r\n        'Prompt',\r\n        'Bai Jamjuree',\r\n        'sans-serif'\r\n    ].join(','),\r\n    h1: {\r\n      fontWeight: 500,\r\n      fontSize: 35,\r\n      letterSpacing: '-0.24px'\r\n    },\r\n    h2: {\r\n      fontWeight: 500,\r\n      fontSize: 29,\r\n      letterSpacing: '-0.24px'\r\n    },\r\n    h3: {\r\n      fontWeight: 500,\r\n      fontSize: 24,\r\n      letterSpacing: '-0.06px'\r\n    },\r\n    h4: {\r\n      fontWeight: 500,\r\n      fontSize: 20,\r\n      letterSpacing: '-0.06px'\r\n    },\r\n    h5: {\r\n      fontWeight: 500,\r\n      fontSize: 16,\r\n      letterSpacing: '-0.05px'\r\n    },\r\n    h6: {\r\n      fontWeight: 500,\r\n      fontSize: 14,\r\n      letterSpacing: '-0.05px'\r\n    },\r\n    overline: {\r\n      fontWeight: 500\r\n    },\r\n    body2: {\r\n      fontFamily: [\r\n        '-apple-system',\r\n          'BlinkMacSystemFont',\r\n          'Poppins',\r\n          'Bai Jamjuree',\r\n          'sans-serif'\r\n      ].join(','),\r\n    }\r\n  };  ","export default {\r\n  props: {\r\n    MuiButton: {\r\n      size: 'small'\r\n    },\r\n    MuiFilledInput: {\r\n      margin: 'dense',\r\n    },\r\n    MuiFormControl: {\r\n      margin: 'dense',\r\n    },\r\n    MuiFormHelperText: {\r\n      margin: 'dense',\r\n    },\r\n    MuiIconButton: {\r\n      size: 'small',\r\n    },\r\n    MuiInputBase: {\r\n      margin: 'dense',\r\n    },\r\n    MuiInputLabel: {\r\n      margin: 'dense',\r\n    },\r\n    MuiListItem: {\r\n      dense: true,\r\n    },\r\n    MuiOutlinedInput: {\r\n      margin: 'dense',\r\n    },\r\n    MuiFab: {\r\n      size: 'small',\r\n    },\r\n    MuiTable: {\r\n      size: 'small',\r\n    },\r\n    MuiTextField: {\r\n      margin: 'dense',\r\n    },\r\n    MuiToolbar: {\r\n      variant: 'dense',\r\n    }\r\n  }\r\n}","import React, {\r\n    useRef,\r\n    useState\r\n  } from 'react';\r\n  import { Link as RouterLink } from 'react-router-dom';\r\n  import { useHistory } from 'react-router';\r\n  import { useDispatch, useSelector } from 'react-redux';\r\n  import { useSnackbar } from 'notistack';\r\n  import {\r\n    Avatar,\r\n    Box,\r\n    ButtonBase,\r\n    Hidden,\r\n    Menu,\r\n    MenuItem,\r\n    Typography,\r\n    makeStyles\r\n  } from '@material-ui/core';\r\n  import { logout } from 'src/actions/accountActions';\r\n  \r\n  const useStyles = makeStyles((theme) => ({\r\n    avatar: {\r\n      height: 32,\r\n      width: 32,\r\n      marginRight: theme.spacing(1)\r\n    },\r\n    popover: {\r\n      width: 200\r\n    }\r\n  }));\r\n  \r\n  function Account() {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const ref = useRef(null);\r\n    const dispatch = useDispatch();\r\n    const account = useSelector((state) => state.account);\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [isOpen, setOpen] = useState(false);\r\n  \r\n    const handleOpen = () => {\r\n      setOpen(true);\r\n    };\r\n  \r\n    const handleClose = () => {\r\n      setOpen(false);\r\n    };\r\n  \r\n    const handleLogout = async () => {\r\n      try {\r\n        handleClose();\r\n        await dispatch(logout());\r\n        history.push('/');\r\n      } catch (error) {\r\n        enqueueSnackbar('Unable to logout', {\r\n          variant: 'error'\r\n        });\r\n      }\r\n    };\r\n  \r\n    return (\r\n      <>\r\n        <Box\r\n          display=\"flex\"\r\n          alignItems=\"center\"\r\n          component={ButtonBase}\r\n          onClick={handleOpen}\r\n          ref={ref}\r\n        >\r\n          <Avatar\r\n            alt=\"User\"\r\n            className={classes.avatar}\r\n            src={account.user.avatar}\r\n          />\r\n          <Hidden smDown>\r\n            <Typography\r\n              variant=\"h6\"\r\n              color=\"inherit\"\r\n            >\r\n              {`${account.user.firstName} ${account.user.lastName}`}\r\n            </Typography>\r\n          </Hidden>\r\n        </Box>\r\n        <Menu\r\n          onClose={handleClose}\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'center'\r\n          }}\r\n          keepMounted\r\n          PaperProps={{ className: classes.popover }}\r\n          getContentAnchorEl={null}\r\n          anchorEl={ref.current}\r\n          open={isOpen}\r\n        >\r\n          <MenuItem\r\n            component={RouterLink}\r\n            to=\"/account\"\r\n          >\r\n            Account\r\n          </MenuItem>\r\n          <MenuItem onClick={handleLogout}>\r\n            Logout\r\n          </MenuItem>\r\n        </Menu>\r\n      </>\r\n    );\r\n  }\r\n  \r\n  export default Account;  ","import React, { useState, useRef, useEffect } from 'react';\r\nimport { capitalCase } from 'change-case';\r\nimport { useTranslation } from 'react-i18next';\r\nimport moment from 'moment';\r\nimport {\r\n  Box,\r\n  Button,\r\n  IconButton,\r\n  Popover,\r\n  SvgIcon,\r\n  TextField,\r\n  Tooltip,\r\n  Typography,\r\n  makeStyles\r\n} from '@material-ui/core';\r\nimport { Settings as SettingsIcon } from 'react-feather';\r\nimport useSettings from 'src/hooks/useSettings';\r\nimport { THEMES, LANGUAGES } from 'src/constants';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  popover: {\r\n    width: 320,\r\n    padding: theme.spacing(2)\r\n  }\r\n}));\r\n\r\nfunction Settings() {\r\n  const classes = useStyles();\r\n  const { i18n } = useTranslation();\r\n  const ref = useRef(null);\r\n  const { settings, saveSettings } = useSettings();\r\n  const [isOpen, setOpen] = useState(false);\r\n  const [values, setValues] = useState({\r\n    direction: settings.direction,\r\n    responsiveFontSizes: settings.responsiveFontSizes,\r\n    theme: settings.theme,\r\n    language: settings.language\r\n  });\r\n\r\n  useEffect(() => {\r\n    const language = values.language ? values.language : LANGUAGES.THAI;\r\n    //console.log('language: ', language);\r\n\r\n    moment.locale(language);\r\n    i18n.changeLanguage(language);\r\n  }, []);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleChange = (field, value) => {\r\n    setValues({\r\n      ...values,\r\n      [field]: value\r\n    });\r\n  };\r\n\r\n  const handleSave = () => {\r\n    saveSettings(values);\r\n    const language = values.language ? values.language : LANGUAGES.THAI;\r\n\r\n    setOpen(false);\r\n\r\n    if (settings.language !== language) {\r\n      //console.log('language: ', language);\r\n\r\n      moment.locale(language);\r\n      i18n.changeLanguage(language);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Settings\">\r\n        <IconButton color=\"inherit\" onClick={handleOpen} ref={ref}>\r\n          <SvgIcon fontSize=\"small\">\r\n            <SettingsIcon />\r\n          </SvgIcon>\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Popover\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center'\r\n        }}\r\n        classes={{ paper: classes.popover }}\r\n        anchorEl={ref.current}\r\n        onClose={handleClose}\r\n        open={isOpen}\r\n      >\r\n        <Typography variant=\"h4\" color=\"textPrimary\">\r\n          Settings\r\n        </Typography>\r\n        <Box mt={2}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Theme\"\r\n            name=\"theme\"\r\n            onChange={event => handleChange('theme', event.target.value)}\r\n            select\r\n            SelectProps={{ native: true }}\r\n            value={values.theme}\r\n            variant=\"outlined\"\r\n          >\r\n            {Object.keys(THEMES).map(theme => (\r\n              <option key={theme} value={theme}>\r\n                {capitalCase(theme)}\r\n              </option>\r\n            ))}\r\n          </TextField>\r\n        </Box>\r\n        <Box mt={2}>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Language\"\r\n            name=\"language\"\r\n            onChange={event => handleChange('language', event.target.value)}\r\n            select\r\n            SelectProps={{ native: true }}\r\n            value={values.language}\r\n            variant=\"outlined\"\r\n          >\r\n            {Object.entries(LANGUAGES).map(language => (\r\n              <option key={language[0]} value={language[1]}>\r\n                {capitalCase(language[0])}\r\n              </option>\r\n            ))}\r\n          </TextField>\r\n        </Box>\r\n        <Box mt={2}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            fullWidth\r\n            onClick={handleSave}\r\n          >\r\n            Save Settings\r\n          </Button>\r\n        </Box>\r\n      </Popover>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Settings;\r\n","import React from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { AppBar, Box, Hidden, Toolbar, makeStyles, Link, Typography } from '@material-ui/core';\r\nimport LogoIcon from 'src/components/LogoIcon';\r\nimport Account from './Account';\r\nimport Settings from './Settings';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    zIndex: theme.zIndex.drawer + 100,\r\n    boxShadow: 'none',\r\n    backgroundColor: theme.palette.background.default,\r\n    color: theme.palette.text.primary\r\n  },\r\n  toolbar: {\r\n    minHeight: 50\r\n  },\r\n  logo: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  logoText: {\r\n    marginLeft: theme.spacing(1),\r\n    fontWeight: 'bolder'\r\n  }\r\n}));\r\n\r\nfunction TopBar({\r\n  className,\r\n  ...rest\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <AppBar\r\n      className={clsx(classes.root, className)}\r\n      {...rest}\r\n    >\r\n      <Toolbar className={classes.toolbar}>\r\n        <Link \r\n          className={classes.logo}\r\n          color=\"inherit\"\r\n          component={RouterLink}\r\n          to=\"/\"\r\n          underline=\"none\"\r\n          variant=\"body2\"\r\n        >\r\n          <LogoIcon />\r\n          <Hidden smDown>\r\n            <Typography\r\n              variant=\"h4\"\r\n              color=\"inherit\"\r\n              className={classes.logoText}\r\n            >\r\n                Smart CSSD\r\n            </Typography>\r\n          </Hidden>\r\n        </Link>\r\n\r\n        <Box\r\n          ml={2}\r\n          flexGrow={1}\r\n        />\r\n        <Settings />\r\n        <Box ml={2}>\r\n          <Account />\r\n        </Box>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nTopBar.propTypes = {\r\n  className: PropTypes.string\r\n};\r\n\r\nexport default TopBar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport TopBar from './TopBar';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.default,\r\n    display: 'flex',\r\n    height: '100%',\r\n    overflow: 'hidden',\r\n    width: '100%'\r\n  },\r\n  wrapper: {\r\n    display: 'flex',\r\n    flex: '1 1 auto',\r\n    overflow: 'hidden',\r\n    paddingTop: 50\r\n  },\r\n  contentContainer: {\r\n    display: 'flex',\r\n    flex: '1 1 auto',\r\n    overflow: 'hidden'\r\n  },\r\n  content: {\r\n    flex: '1 1 auto',\r\n    height: '100%',\r\n    overflow: 'auto'\r\n  }\r\n}));\r\n\r\nfunction MainLayout({ children }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <TopBar />\r\n      <div className={classes.wrapper}>\r\n        <div className={classes.contentContainer}>\r\n          <div className={classes.content}>\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nMainLayout.propTypes = {\r\n  children: PropTypes.any\r\n};\r\n\r\nexport default MainLayout;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.default,\r\n    display: 'flex',\r\n    height: '100%',\r\n    overflow: 'hidden',\r\n    width: '100%'\r\n  },\r\n  wrapper: {\r\n    display: 'flex',\r\n    flex: '1 1 auto',\r\n    overflow: 'hidden'\r\n  },\r\n  contentContainer: {\r\n    display: 'flex',\r\n    flex: '1 1 auto',\r\n    overflow: 'hidden'\r\n  },\r\n  content: {\r\n    flex: '1 1 auto',\r\n    height: '100%',\r\n    overflow: 'auto'\r\n  }\r\n}));\r\n\r\nfunction MainLayout({ children }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.wrapper}>\r\n        <div className={classes.contentContainer}>\r\n          <div className={classes.content}>\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nMainLayout.propTypes = {\r\n  children: PropTypes.any\r\n};\r\n\r\nexport default MainLayout;","import React, { useEffect } from 'react';\r\nimport NProgress from 'nprogress';\r\nimport { Box, LinearProgress, makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    alignItems: 'center',\r\n    backgroundColor: theme.palette.background.default,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    height: '100%',\r\n    justifyContent: 'center',\r\n    minHeight: '100%',\r\n    padding: theme.spacing(3)\r\n  }\r\n}));\r\n\r\nfunction LoadingScreen() {\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    NProgress.start();\r\n\r\n    return () => {\r\n      NProgress.done();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Box width={400}>\r\n        <LinearProgress />\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadingScreen;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction AuthGuard({ children }) {\r\n  const account = useSelector((state) => state.account);\r\n\r\n  if (!account.user) {\r\n    return <Redirect to=\"/login\" />;\r\n  }\r\n\r\n  return children;\r\n}\r\n\r\nAuthGuard.propTypes = {\r\n  children: PropTypes.any\r\n};\r\n\r\nexport default AuthGuard;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction GuestGuard({ children }) {\r\n  const account = useSelector((state) => state.account);\r\n\r\n  if (account.user) {\r\n    return <Redirect to=\"/home\" />;\r\n  }\r\n\r\n  return children;\r\n}\r\n\r\nGuestGuard.propTypes = {\r\n  children: PropTypes.any\r\n};\r\n\r\nexport default GuestGuard;","/* eslint-disable react/no-array-index-key */\r\nimport React, { lazy, Suspense, Fragment } from 'react';\r\nimport { Switch, Redirect, Route } from 'react-router-dom';\r\nimport MainLayout from 'src/layouts/MainLayout';\r\nimport EditLayout from 'src/layouts/EditLayout';\r\nimport LoadingScreen from 'src/components/LoadingScreen';\r\nimport AuthGuard from 'src/components/AuthGuard';\r\nimport GuestGuard from 'src/components/GuestGuard';\r\n\r\nconst routesConfig = [\r\n  {\r\n    exact: true,\r\n    path: '/',\r\n    component: () => <Redirect to=\"/home\" />\r\n  },\r\n  {\r\n    exact: true,\r\n    guard: AuthGuard,\r\n    layout: MainLayout,\r\n    path: '/home',\r\n    component: lazy(() => import('src/views/pages/HomeView'))\r\n  },\r\n  {\r\n    exact: true,\r\n    guard: AuthGuard,\r\n    layout: MainLayout,\r\n    path: '/account',\r\n    component: lazy(() => import('src/views/pages/AccountView'))\r\n  },\r\n  {\r\n    exact: true,\r\n    path: '/404',\r\n    component: lazy(() => import('src/views/pages/Error404View'))\r\n  },\r\n  {\r\n    exact: true,\r\n    guard: GuestGuard,\r\n    path: '/login',\r\n    component: lazy(() => import('src/views/auth/LoginView'))\r\n  },\r\n  {\r\n    exact: true,\r\n    path: '/login-unprotected',\r\n    component: lazy(() => import('src/views/auth/LoginView'))\r\n  },\r\n  {\r\n    exact: true,\r\n    guard: GuestGuard,\r\n    path: '/register',\r\n    component: lazy(() => import('src/views/auth/RegisterView'))\r\n  },\r\n  {\r\n    exact: true,\r\n    path: '/register-unprotected',\r\n    component: lazy(() => import('src/views/auth/RegisterView'))\r\n  },\r\n  {\r\n    exact: true,\r\n    path: '/forgot-password',\r\n    component: lazy(() => import('src/views/auth/ForgotPasswordView'))\r\n  },\r\n  {\r\n    exact: true,\r\n    path: '/reset-password',\r\n    component: lazy(() => import('src/views/auth/ResetPasswordView'))\r\n  },\r\n  {\r\n    path: '/sets',\r\n    guard: AuthGuard,\r\n    routes: [\r\n      {\r\n        exact: true,\r\n        layout: MainLayout,\r\n        path: '/sets',\r\n        component: lazy(() => import('src/views/sets/ListView'))\r\n      },\r\n      {\r\n        exact: true,\r\n        layout: EditLayout,\r\n        path: '/sets/create',\r\n        component: lazy(() => import('src/views/sets/CreateView'))\r\n      },\r\n      {\r\n        exact: true,\r\n        layout: EditLayout,\r\n        path: '/sets/:id',\r\n        component: lazy(() => import('src/views/sets/CreateView'))\r\n      },\r\n      {\r\n        exact: true,\r\n        layout: EditLayout,\r\n        path: '/sets/details/:id',\r\n        component: lazy(() => import('src/views/sets/DetailsView'))\r\n      },\r\n      {\r\n        component: () => <Redirect to=\"/404\" />\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/equipments',\r\n    guard: AuthGuard,\r\n    routes: [\r\n      {\r\n        exact: true,\r\n        path: '/equipments',\r\n        layout: MainLayout,\r\n        component: lazy(() => import('src/views/equipments/ListView'))\r\n      },\r\n      {\r\n        exact: true,\r\n        layout: EditLayout,\r\n        path: '/equipments/create',\r\n        component: lazy(() => import('src/views/equipments/CreateView'))\r\n      },\r\n      {\r\n        exact: true,\r\n        layout: EditLayout,\r\n        path: '/equipments/:id',\r\n        component: lazy(() => import('src/views/equipments/CreateView'))\r\n      },\r\n      {\r\n        component: () => <Redirect to=\"/404\" />\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/borrowing-history',\r\n    guard: AuthGuard,\r\n    routes: [\r\n      {\r\n        exact: true,\r\n        layout: MainLayout,\r\n        path: '/borrowing-history',\r\n        component: lazy(() => import('src/views/borrowing-history/ListView'))\r\n      },\r\n      {\r\n        exact: true,\r\n        layout: EditLayout,\r\n        path: '/borrowing-history/:id/detail',\r\n        component: lazy(() => import('src/views/borrowing-history/DetailView'))\r\n      },\r\n      {\r\n        component: () => <Redirect to=\"/404\" />\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/userManagement',\r\n    guard: AuthGuard,\r\n    routes: [\r\n      {\r\n        exact: true,\r\n        layout: MainLayout,\r\n        path: '/userManagement',\r\n        component: lazy(() => import('src/views/userManagement/ListView'))\r\n      },\r\n      // {\r\n      //   exact: true,\r\n      //   layout: EditLayout,\r\n      //   path: '/userManagement/:id/detail',\r\n      //   component: lazy(() => import('src/views/userManagement/DetailView'))\r\n      // },\r\n      {\r\n        component: () => <Redirect to=\"/404\" />\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/verify',\r\n    guard: AuthGuard,\r\n    layout: MainLayout,\r\n    routes: [\r\n      {\r\n        exact: true,\r\n        path: '/verify',\r\n        component: lazy(() => import('src/views/verify/VerifyView'))\r\n      },\r\n      {\r\n        component: () => <Redirect to=\"/404\" />\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '*',\r\n    layout: MainLayout,\r\n    routes: [\r\n      {\r\n        component: () => <Redirect to=\"/404\" />\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nconst renderRoutes = routes =>\r\n  routes ? (\r\n    <Suspense fallback={<LoadingScreen />}>\r\n      <Switch>\r\n        {routes.map((route, i) => {\r\n          const Guard = route.guard || Fragment;\r\n          const Layout = route.layout || Fragment;\r\n          const Component = route.component;\r\n\r\n          return (\r\n            <Route\r\n              key={i}\r\n              path={route.path}\r\n              exact={route.exact}\r\n              render={props => (\r\n                <Guard>\r\n                  <Layout>\r\n                    {route.routes ? (\r\n                      renderRoutes(route.routes)\r\n                    ) : (\r\n                      <Component {...props} />\r\n                    )}\r\n                  </Layout>\r\n                </Guard>\r\n              )}\r\n            />\r\n          );\r\n        })}\r\n      </Switch>\r\n    </Suspense>\r\n  ) : null;\r\n\r\nfunction Routes() {\r\n  return renderRoutes(routesConfig);\r\n}\r\n\r\nexport default Routes;\r\n","import React from 'react';\r\nimport { Router } from 'react-router-dom';\r\nimport { createBrowserHistory } from 'history';\r\nimport { create } from 'jss';\r\nimport rtl from 'jss-rtl';\r\nimport MomentUtils from '@date-io/moment';\r\nimport { SnackbarProvider } from 'notistack';\r\nimport {\r\n  createStyles,\r\n  jssPreset,\r\n  makeStyles,\r\n  StylesProvider,\r\n  ThemeProvider\r\n} from '@material-ui/core';\r\nimport { MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport Auth from 'src/components/Auth';\r\nimport useSettings from 'src/hooks/useSettings';\r\nimport { createTheme } from 'src/theme';\r\nimport Routes from 'src/Routes';\r\nimport { NotificationConfigurator } from 'src/utils/NotificationUtil'\r\n\r\nconst history = createBrowserHistory();\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] });\r\n\r\nconst useStyles = makeStyles(() => createStyles({\r\n  '@global': {\r\n    '*': {\r\n      boxSizing: 'border-box',\r\n      margin: 0,\r\n      padding: 0,\r\n    },\r\n    html: {\r\n      '-webkit-font-smoothing': 'antialiased',\r\n      '-moz-osx-font-smoothing': 'grayscale',\r\n      height: '100%',\r\n      width: '100%'\r\n    },\r\n    body: {\r\n      height: '100%',\r\n      width: '100%'\r\n    },\r\n    '#root': {\r\n      height: '100%',\r\n      width: '100%',\r\n    }\r\n  }\r\n}));\r\n\r\nfunction App() {\r\n  useStyles();\r\n\r\n  const { settings } = useSettings();\r\n\r\n  return (\r\n    <ThemeProvider theme={createTheme(settings)}>\r\n      <StylesProvider jss={jss}>\r\n        <MuiPickersUtilsProvider utils={MomentUtils}>\r\n          <SnackbarProvider maxSnack={5}>\r\n            <NotificationConfigurator/>\r\n            <Router history={history}>\r\n              <Auth>\r\n                <Routes />\r\n              </Auth>\r\n            </Router>\r\n          </SnackbarProvider>\r\n        </MuiPickersUtilsProvider>\r\n      </StylesProvider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;","import 'react-app-polyfill/ie11';\r\nimport 'react-app-polyfill/stable';\r\nimport 'react-perfect-scrollbar/dist/css/styles.css';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport 'nprogress/nprogress.css';\r\n//import 'src/mock';\r\nimport 'src/i18n';\r\nimport { enableES5 } from 'immer';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from 'src/serviceWorker';\r\nimport { SettingsProvider } from 'src/context/SettingsContext';\r\nimport { configureStore } from 'src/store';\r\nimport { restoreSettings } from 'src/utils/settings';\r\nimport App from 'src/App';\r\nimport 'fontsource-poppins';\r\nimport 'fontsource-prompt/thai.css';\r\nimport 'fontsource-bai-jamjuree/thai.css';\r\n\r\nenableES5();\r\n\r\nconst store = configureStore();\r\nconst settings = restoreSettings();\r\n\r\nReactDOM.render(\r\n <Provider store={store}>\r\n  <SettingsProvider settings={settings}>\r\n   <App />\r\n  </SettingsProvider>\r\n </Provider>,\r\n document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n","import jwtDecode from 'jwt-decode';\r\nimport axios from 'src/utils/axios';\r\n\r\nclass AuthService {\r\n setAxiosInterceptors = ({ onLogout }) => {\r\n  axios.interceptors.response.use(\r\n   response => response,\r\n   error => {\r\n    if (error.response && error.response.status === 401) {\r\n     this.setSession(null);\r\n\r\n     if (onLogout) {\r\n      onLogout();\r\n     }\r\n    }\r\n\r\n    return Promise.reject(error);\r\n   }\r\n  );\r\n };\r\n\r\n handleAuthentication() {\r\n  const accessToken = this.getAccessToken();\r\n\r\n  if (!accessToken) {\r\n   return;\r\n  }\r\n\r\n  if (this.isValidToken(accessToken)) {\r\n   this.setSession(accessToken);\r\n  } else {\r\n   this.setSession(null);\r\n  }\r\n }\r\n\r\n loginWithEmailAndPassword = (username, password) =>\r\n  new Promise((resolve, reject) => {\r\n   axios\r\n    .post('/api/login', { username, password })\r\n    .then(response => {\r\n     if (response.data.user) {\r\n      this.setSession(response.data.accessToken);\r\n      resolve(response.data.user);\r\n     } else {\r\n      reject(response.data.error);\r\n     }\r\n    })\r\n    .catch(error => {\r\n     const { response } = error;\r\n     const { status, data } = response;\r\n     reject({ status, data });\r\n    });\r\n  });\r\n\r\n loginInWithToken = () =>\r\n  new Promise((resolve, reject) => {\r\n   axios\r\n    .get('/api/account/me')\r\n    .then(response => {\r\n     if (response.data.user) {\r\n      resolve(response.data.user);\r\n     } else {\r\n      reject(response.data.error);\r\n     }\r\n    })\r\n    .catch(error => {\r\n     reject(error);\r\n    });\r\n  });\r\n\r\n logout = () => {\r\n  this.setSession(null);\r\n };\r\n\r\n setSession = accessToken => {\r\n  if (accessToken) {\r\n   localStorage.setItem('accessToken', accessToken);\r\n   axios.defaults.headers.common.Authorization = `Bearer ${accessToken}`;\r\n  } else {\r\n   localStorage.removeItem('accessToken');\r\n   delete axios.defaults.headers.common.Authorization;\r\n  }\r\n };\r\n\r\n getAccessToken = () => localStorage.getItem('accessToken');\r\n\r\n isValidToken = accessToken => {\r\n  if (!accessToken) {\r\n   return false;\r\n  }\r\n\r\n  const decoded = jwtDecode(accessToken);\r\n  const currentTime = Date.now() / 1000;\r\n\r\n  return decoded.exp > currentTime;\r\n };\r\n\r\n isAuthenticated = () => !!this.getAccessToken();\r\n\r\n forgotPasswordByEmail = email =>\r\n  new Promise((resolve, reject) => {\r\n   axios\r\n    .post('/api/account/forgot-password', email)\r\n    .then(response => {\r\n     if (response.data.message) {\r\n      resolve(response.data.message);\r\n     } else {\r\n      reject(response.data.error);\r\n     }\r\n    })\r\n    .catch(error => {\r\n     const { response } = error;\r\n     const { status, data } = response;\r\n     reject({ status, data });\r\n    });\r\n  });\r\n\r\n resetPasswordService = (newPassword, confirmPassword) =>\r\n  new Promise((resolve, reject) => {\r\n   axios\r\n    .post('/api/account/reset-password', { newPassword, confirmPassword })\r\n    .then(response => {\r\n     if (response.data.message) {\r\n      resolve(response.data.message);\r\n     } else {\r\n      reject(response.data.error);\r\n     }\r\n    })\r\n    .catch(error => {\r\n     const { response } = error;\r\n     const { status, data } = response;\r\n     reject({ status, data });\r\n    });\r\n  });\r\n}\r\n\r\nconst authService = new AuthService();\r\n\r\nexport default authService;\r\n"],"sourceRoot":""}