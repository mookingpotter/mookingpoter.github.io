(this["webpackJsonpsmart-cssd"]=this["webpackJsonpsmart-cssd"]||[]).push([[16],{744:function(e,t,a){"use strict";var n=a(244),r=a(0),i=a.n(r),o=a(747),c=a(23);function s(){var e;window.gtag&&(e=window).gtag.apply(e,arguments)}var l={pageview:function(e){s("config","",e)},event:function(e,t){s("event",e,t)}},u=Object(r.forwardRef)((function(e,t){var a=e.title,s=e.children,u=Object(n.a)(e,["title","children"]),m=Object(c.h)(),d=Object(r.useCallback)((function(){l.pageview({page_path:m.pathname})}),[m]);return Object(r.useEffect)((function(){d()}),[d]),i.a.createElement("div",Object.assign({ref:t},u),i.a.createElement(o.a,null,i.a.createElement("title",null,"Smart CSSD - ",a)),s)}));t.a=u},745:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var n=a(103),r=function(e){var t=e.errorCode,a=e.errorMessage,n=e.activityId;return{resultFlag:!1,errorCode:null!==t&&void 0!==t?t:"something went wrong",errorMessage:a,activityId:null!==n&&void 0!==n?n:""}},i=function(e){var t,a=e.data;return(t=a)?{resultFlag:!0,value:Object(n.a)({},t)}:{resultFlag:!0}},o=function(e){if(e.response){var t=e.response,a=t.data,n=t.status,i=t.statusText;t.headers;return r(a||{errorMessage:"".concat(n,": ").concat(i)})}return e.request?(console.error(e.request),console.error("Error: ",e.message),r({errorMessage:e.message})):(console.error("Error: ",e.message),r({errorMessage:e.message}))}},746:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);function r(){var e=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){e.current=!1}}),[]),e}},748:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n={equals:"eq",notEquals:"neq",greaterThan:"gt",greaterThanOrEquals:"gte",lessThan:"lt",lessThanOrEquals:"lte",contains:"ct",startWith:"st"},r=function(e){var t=e.field,a=e.operator,r=void 0===a?n.contains:a,i=e.value;return t?{field:t,operator:r,value:void 0===i?"":i}:null}},750:function(e,t,a){"use strict";var n=a(1),r=a(3),i=a(13),o=a(0),c=(a(5),a(4)),s=a(6),l=a(8),u=o.forwardRef((function(e,t){var a=e.classes,i=e.className,s=e.component,u=void 0===s?"div":s,m=e.disableGutters,d=void 0!==m&&m,p=e.fixed,f=void 0!==p&&p,g=e.maxWidth,v=void 0===g?"lg":g,h=Object(r.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return(o.createElement(u,Object(n.a)({className:Object(c.a)(a.root,i,f&&a.fixed,d&&a.disableGutters,!1!==v&&a["maxWidth".concat(Object(l.a)(String(v)))]),ref:t},h)))}));t.a=Object(s.a)((function(e){return{root:Object(i.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,a){var n=e.breakpoints.values[a];return 0!==n&&(t[e.breakpoints.up(a)]={maxWidth:n}),t}),{}),maxWidthXs:Object(i.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(i.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(i.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(i.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(i.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(u)},753:function(e,t,a){"use strict";var n=a(92),r=a(244),i=a(0),o=a.n(i),c=a(4),s=a(443),l=a(22),u=Object(s.a)((function(e){return{root:{fontFamily:e.typography.fontFamily,alignItems:"center",borderRadius:2,display:"inline-flex",flexGrow:0,whiteSpace:"nowrap",cursor:"default",flexShrink:0,fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,height:20,justifyContent:"center",letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),textTransform:"uppercase"},primary:{color:e.palette.primary.main,backgroundColor:Object(l.c)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(l.c)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(l.c)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(l.c)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(l.c)(e.palette.warning.main,.08)}}}));function m(e){var t=e.className,a=e.color,i=e.children,s=(e.style,Object(r.a)(e,["className","color","children","style"])),l=u();return o.a.createElement("span",Object.assign({className:Object(c.a)(l.root,Object(n.a)({},l[a],a),t)},s),i)}m.defaultProps={className:"",color:"secondary"},t.a=m},755:function(e,t,a){"use strict";var n=a(3),r=a(1),i=a(0),o=(a(5),a(4)),c=a(6),s=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=parseFloat(e);return"".concat(a/t).concat(String(e).replace(String(a),"")||"px")}var m=i.forwardRef((function(e,t){var a=e.alignContent,c=void 0===a?"stretch":a,s=e.alignItems,l=void 0===s?"stretch":s,u=e.classes,m=e.className,d=e.component,p=void 0===d?"div":d,f=e.container,g=void 0!==f&&f,v=e.direction,h=void 0===v?"row":v,b=e.item,x=void 0!==b&&b,y=e.justify,j=void 0===y?"flex-start":y,w=e.lg,O=void 0!==w&&w,E=e.md,S=void 0!==E&&E,N=e.sm,W=void 0!==N&&N,k=e.spacing,C=void 0===k?0:k,I=e.wrap,q=void 0===I?"wrap":I,R=e.xl,z=void 0!==R&&R,T=e.xs,L=void 0!==T&&T,M=e.zeroMinWidth,A=void 0!==M&&M,G=Object(n.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),P=Object(o.a)(u.root,m,g&&[u.container,0!==C&&u["spacing-xs-".concat(String(C))]],x&&u.item,A&&u.zeroMinWidth,"row"!==h&&u["direction-xs-".concat(String(h))],"wrap"!==q&&u["wrap-xs-".concat(String(q))],"stretch"!==l&&u["align-items-xs-".concat(String(l))],"stretch"!==c&&u["align-content-xs-".concat(String(c))],"flex-start"!==j&&u["justify-xs-".concat(String(j))],!1!==L&&u["grid-xs-".concat(String(L))],!1!==W&&u["grid-sm-".concat(String(W))],!1!==S&&u["grid-md-".concat(String(S))],!1!==O&&u["grid-lg-".concat(String(O))],!1!==z&&u["grid-xl-".concat(String(z))]);return i.createElement(p,Object(r.a)({className:P,ref:t},G))})),d=Object(c.a)((function(e){return Object(r.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var a={};return s.forEach((function(n){var r=e.spacing(n);0!==r&&(a["spacing-".concat(t,"-").concat(n)]={margin:"-".concat(u(r,2)),width:"calc(100% + ".concat(u(r),")"),"& > $item":{padding:u(r,2)}})})),a}(e,"xs"),e.breakpoints.keys.reduce((function(t,a){return function(e,t,a){var n={};l.forEach((function(e){var t="grid-".concat(a,"-").concat(e);if(!0!==e)if("auto"!==e){var r="".concat(Math.round(e/12*1e8)/1e6,"%");n[t]={flexBasis:r,flexGrow:0,maxWidth:r}}else n[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else n[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===a?Object(r.a)(e,n):e[t.breakpoints.up(a)]=n}(t,e,a),t}),{}))}),{name:"MuiGrid"})(m);t.a=d},756:function(e,t,a){"use strict";var n=a(103),r=a(245),i=a(67),o=a(748),c=a(745),s=new function e(){Object(r.a)(this,e),this.getAll=function(){return new Promise((function(e,t){i.a.get("/api/surgeries/types").then((function(t){var a=c.b(t);e(a)})).catch((function(e){var a=c.a(e);t(a)}))}))},this.getById=function(e){return new Promise((function(t,a){i.a.get("/api/surgeries/types/set/".concat(e),{params:{id:e}}).then((function(e){var a=c.b(e);if(a.value&&a.value.equipments){var n=Object.keys(a.value.equipments.byId);a.value.equipments.allIds=n,t(a)}else t(a)})).catch((function(e){var t=c.a(e);a(t)}))}))},this.getList=function(e,t,a,n){return new Promise((function(r,s){var l=e&&""!==e?Object(o.a)({field:"name",value:e}):"";i.a.get("/api/surgeries/types",{params:{filter:l,sort:t,page:a,pageSize:n}}).then((function(e){var t=c.b(e);r(t)})).catch((function(e){var t=c.a(e);s(t)}))}))},this.insert=function(e){return new Promise((function(t,a){console.log("insert: ",e),i.a.post("/api/surgeries/types",e).then((function(e){var a=c.b(e);t(a)})).catch((function(e){var t=c.a(e);a(t)}))}))},this.update=function(e){return new Promise((function(t,a){i.a.put("/api/surgeries/types",e).then((function(e){var a=c.b(e);t(a)})).catch((function(e){var t=c.a(e);a(t)}))}))},this.remove=function(e){return new Promise((function(t,a){console.log("remove: ",e),i.a.delete("/api/surgeries/types/".concat(e.id),Object(n.a)({},e)).then((function(e){console.log(e);var a=c.b(e);t(a)})).catch((function(e){var t=c.a(e);a(t)}))}))},this.updateEquipmentItems=function(e){var t=e.setId,a=e.equipmentItems,n=e.lastModifiedTimestamp;return new Promise((function(e,r){i.a.put("/api/surgeries/types/set/".concat(t),{id:t,lastModifiedTimestamp:n,equipments:a}).then((function(t){var a=c.b(t);e(a)})).catch((function(e){var t=c.a(e);r(t)}))}))}};t.a=s},777:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(56),r=a(0);function i(){var e=Object(r.useState)({width:void 0,height:void 0}),t=Object(n.a)(e,2),a=t[0],i=t[1];return Object(r.useEffect)((function(){function e(){i({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}},778:function(e,t,a){"use strict";var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),r=new Uint8Array(16);function i(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)}for(var o=[],c=0;c<256;++c)o[c]=(c+256).toString(16).substr(1);var s=function(e,t){var a=t||0,n=o;return[n[e[a++]],n[e[a++]],n[e[a++]],n[e[a++]],"-",n[e[a++]],n[e[a++]],"-",n[e[a++]],n[e[a++]],"-",n[e[a++]],n[e[a++]],"-",n[e[a++]],n[e[a++]],n[e[a++]],n[e[a++]],n[e[a++]],n[e[a++]]].join("")};t.a=function(e,t,a){var n=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var o=0;o<16;++o)t[n+o]=r[o];return t||s(r)}},782:function(e,t,a){"use strict";var n=a(1),r=a(3),i=a(0),o=(a(5),a(4)),c=a(6),s=a(22),l=i.forwardRef((function(e,t){var a=e.absolute,c=void 0!==a&&a,s=e.classes,l=e.className,u=e.component,m=void 0===u?"hr":u,d=e.flexItem,p=void 0!==d&&d,f=e.light,g=void 0!==f&&f,v=e.orientation,h=void 0===v?"horizontal":v,b=e.role,x=void 0===b?"hr"!==m?"separator":void 0:b,y=e.variant,j=void 0===y?"fullWidth":y,w=Object(r.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return(i.createElement(m,Object(n.a)({className:Object(o.a)(s.root,l,"fullWidth"!==j&&s[j],c&&s.absolute,p&&s.flexItem,g&&s.light,"vertical"===h&&s.vertical),role:x,ref:t},w)))}));t.a=Object(c.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(s.c)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(l)},860:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a.n(n),i=a(103),o=a(31),c=a(56),s=a(0),l=a.n(s),u=a(723),m=a(55),d=a(746),p=a(756),f=a(744),g=a(260),v=a(443),h=a(750),b=a(703),x=a(182),y=a(690),j=a(782),w=a(755),O=a(778),E=a(777),S=a(776),N=a.n(S),W=a(244),k=a(5),C=a.n(k),I=a(4),q=a(741),R=a(724),z=Object(v.a)((function(e){return{root:{},paper:{padding:e.spacing(1),maxWidth:500,margin:e.spacing(1)},img:{display:"block",maxWidth:"100%",maxHeight:"100%"},rounded:{color:"#fff",backgroundColor:"#fff",width:90,height:90,marginRight:e.spacing(1)},divName:{maxWidth:205,whiteSpace:"normal"},pName:{maxHeight:60,textOverflow:"ellipsis",overflow:"hidden",backgroundColor:"background.paper"},square:{margin:e.spacing(0,1,0,1)}}}));function T(e){var t=e.equipment,a=e.className,n=Object(W.a)(e,["equipment","className"]),r=z(),i=Object(u.a)([m.e.TRANSLATIONS,m.e.SETS]).t,o="T";return t.media||(o=t.name.charAt(0)),l.a.createElement("div",Object.assign({className:Object(I.a)(r.root,a)},n),l.a.createElement(x.a,{className:r.paper,variant:"outlined"},l.a.createElement(w.a,{container:!0},l.a.createElement(w.a,{item:!0},t.media?l.a.createElement(q.a,{variant:"rounded",className:r.rounded},l.a.createElement("img",{className:r.img,alt:"complex",src:t.media})):l.a.createElement(q.a,{variant:"square",className:r.square},o)),l.a.createElement(w.a,{item:!0,xs:12,sm:!0,container:!0},l.a.createElement(w.a,{item:!0,xs:!0,container:!0,direction:"column"},l.a.createElement(w.a,{item:!0,xs:!0},l.a.createElement("div",{className:r.divName},l.a.createElement(R.a,{title:t.name},l.a.createElement(y.a,{variant:"body2",my:2,className:r.pName},t.name))))),l.a.createElement(w.a,{item:!0},l.a.createElement(y.a,{variant:"body2",component:"div"},l.a.createElement(b.a,{fontWeight:"fontWeightLight",component:"p",display:"inline",fontSize:"h2.fontSize"},t.amount)," ".concat(i("sets:form2.piece"))))))))}T.prototypes={equipment:C.a.shape({id:C.a.string,name:C.a.string,media:C.a.string,amount:C.a.number}),className:C.a.string};var L=T,M=a(78),A=a(728),G=a(753),P=Object(v.a)((function(e){return{root:{},label:{marginLeft:e.spacing(2)}}}));var B=function(e){var t=e.name,a=e.active,n=e.className,r=Object(W.a)(e,["name","active","className"]),i=P(),o=Object(u.a)([m.e.SETS,m.e.TRANSLATIONS]).t;return l.a.createElement(b.a,Object.assign({className:Object(I.a)(n,i.root)},r),l.a.createElement(b.a,{flexGrow:1},l.a.createElement(y.a,{variant:"body2",component:"div",color:"textPrimary",gutterBottom:!0},l.a.createElement(b.a,{fontWeight:500,ml:1,component:"p",display:"inline",fontSize:"h1.fontSize"},t),a&&l.a.createElement(G.a,{className:i.label,color:!0===a?"success":"error"},o(!0===a?"translations:active":"translations:inactive")))),l.a.createElement(A.a,{variant:"contained",size:"medium",color:"primary",component:M.a,to:"/sets"},o("sets:button.exit")))},D=a(23),F=Object(v.a)((function(e){return{root:{backgroundColor:e.palette.background.default,minHeight:"100%",padding:e.spacing(2,0)},wrapper:{height:"inherit"},info:{},items:{height:"80%",width:"auto"},amountDetails:{display:"flex",justifyContent:"flex-end",alignItems:"center"},amount:{fontSize:e.typography.h2.fontSize,color:e.palette.text.primary,marginLeft:e.spacing(1),display:"inline",fontWeight:500}}}));t.default=function(e){var t,a,n=e.match,v=F(),S=Object(u.a)([m.e.SETS,m.e.TRANSLATIONS]).t,W=Object(d.a)(),k=Object(s.useState)(null),C=Object(c.a)(k,2),I=C[0],q=C[1],R=Object(D.g)(),z=Object(E.a)(),T=null===(t=n.params)||void 0===t?void 0:t.id;if(Object(s.useEffect)((function(){function e(){return(e=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.getById(T);case 3:t=e.sent,console.log("response: ",t),t.resultFlag&&(a=t.value,W.current&&q((function(){return Object(i.a)({},a)}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}T&&function(){e.apply(this,arguments)}()}),[T,W,R]),!I)return l.a.createElement(g.a,null);var M=null!==(a=null===I||void 0===I?void 0:I.name)&&void 0!==a?a:"",A=null===I||void 0===I?void 0:I.active,G=null===I||void 0===I?void 0:I.equipments;return l.a.createElement(f.a,{className:v.root,title:S("sets:surgical type details")},l.a.createElement(h.a,{maxWidth:"lg"},l.a.createElement(B,{mb:1,display:"flex",name:M,active:A}),l.a.createElement(b.a,{height:z.height-90},l.a.createElement(x.a,{className:v.wrapper,elevation:0,variant:"outlined"},l.a.createElement(b.a,{m:2,className:v.info},l.a.createElement(y.a,{variant:"body2",component:"div",className:v.amountDetails,gutterBottom:!0},l.a.createElement(b.a,{fontWeight:"fontWeightLight",component:"p",display:"inline"},S("sets:form2.equipment type")),l.a.createElement(b.a,{component:"p",className:v.amount},null===G||void 0===G?void 0:G.totalItems," ".concat(S("sets:form2.piece"))),l.a.createElement(b.a,{ml:4,fontWeight:"fontWeightLight",component:"p",display:"inline"},S("sets:form2.tool total")),l.a.createElement(b.a,{component:"p",className:v.amount},null===G||void 0===G?void 0:G.totalEquipments," ".concat(S("sets:form2.type"))))),l.a.createElement(j.a,null),l.a.createElement(b.a,{m:2,className:v.items},l.a.createElement(N.a,null,l.a.createElement(w.a,{container:!0},G&&G.allIds&&G.allIds.map((function(e){var t=Object(O.a)(),a=G.byId[e];return l.a.createElement(w.a,{key:t,item:!0,xs:12,md:4,lg:4},l.a.createElement(L,{equipment:a}))})),(!G||!G.allIds||!G.allIds.length)&&l.a.createElement(y.a,null,S("translations:no data available on select items")))))))))}}}]);
//# sourceMappingURL=16.0a746b2d.chunk.js.map