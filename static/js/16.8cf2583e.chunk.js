(this["webpackJsonpsmart-cssd"]=this["webpackJsonpsmart-cssd"]||[]).push([[16],{1023:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a.n(n),c=a(31),o=a(42),i=a(0),s=a.n(i),l=a(909),u=a(78),m=a(930),g=a(936),p=a(929),d=a(290),f=a(287),b=a(92),v=a(4),h=a(528),O=a(951),j=a(940),E=a(888),y=a(914),S=a(956),w=a.n(S),N=a(943),C=a(944),k=a(965),x=a(913),P=a(968),I=a(924),R=a(911),T=a(955),A=a.n(T),F=Object(h.a)((function(e){return{root:{},queryButton:{marginLeft:e.spacing(1),marginRight:e.spacing(3)},queryDivider:{margin:e.spacing(0,3)},queryCard:{minHeight:60,borderRadius:e.spacing(1),padding:e.spacing(2)},queryField:{width:"95%",marginLeft:e.spacing(2),marginRight:e.spacing(1)}}}));var B=function(e){var t=e.onSearch,a=e.className,n=Object(f.a)(e,["onSearch","className"]),r=F(),c=Object(l.a)([u.e.SETS,u.e.TRANSLATIONS]).t,m=Object(i.useState)(""),g=Object(o.a)(m,2),p=g[0],d=g[1],b=function(e){e.persist(),t(p)};return s.a.createElement(O.a,Object.assign({maxWidth:"md",className:Object(v.a)(a,r.root)},n),s.a.createElement(k.a,{className:r.queryCard},s.a.createElement(E.a,{display:"flex",alignItems:"center"},s.a.createElement(x.a,{fullWidth:!0,className:r.queryField,onChange:function(e){e.persist(),d(e.target.value)},value:p,size:"small",label:c("sets:surgical type list search")}),s.a.createElement(P.a,{orientation:"vertical",flexItem:!0,className:r.queryDivider}),s.a.createElement(I.a,{smDown:!0},s.a.createElement(y.a,{variant:"contained",color:"primary",className:r.queryButton,onClick:b},s.a.createElement(A.a,null),c("translations:search"))),s.a.createElement(I.a,{only:["md","lg","xl"]},s.a.createElement(R.a,{color:"primary",onClick:b},s.a.createElement(A.a,null))))))},L=Object(h.a)((function(e){return{root:{minWidth:"100%",height:130,background:e.palette.background.header},actionIcon:{marginRight:e.spacing(1)},previousButton:{"&:hover":{textDecoration:"underline"}},titleRow:{paddingTop:e.spacing(1),color:e.palette.text.primary},addButton:{},addIconButton:{marginRight:e.spacing(1)},searchWrapper:{zIndex:e.zIndex.drawer+100,marginTop:e.spacing(1)}}}));var M=function(e){var t=e.onSearch,a=e.className,n=Object(f.a)(e,["onSearch","className"]),r=L(),c=Object(l.a)([u.e.TRANSLATIONS,u.e.SETS]).t;return s.a.createElement("div",Object.assign({className:Object(v.a)(r.root,a)},n),s.a.createElement(O.a,{maxWidth:"md"},s.a.createElement(j.a,{alignItems:"center",container:!0,justify:"space-between",className:r.titleRow},s.a.createElement(j.a,{item:!0},s.a.createElement(C.a,null,c("sets:surgical instrument sets"))),s.a.createElement(j.a,{item:!0},s.a.createElement(N.a,{className:r.previousButton}))),s.a.createElement(E.a,{pt:1},s.a.createElement(y.a,{variant:"contained",color:"primary",className:r.addButton,size:"small",component:b.a,to:"/sets/create"},s.a.createElement(w.a,{className:r.addIconButton}),c("sets:add surgical instrument sets")))),s.a.createElement(B,{onSearch:t,className:r.searchWrapper}))},W=a(923),q=a(164),z=a(875),D=a(906),G=a(68),K=a(957),Z=a.n(K),_=a(995),J=a(980),H=Object(h.a)((function(e){return{root:Object(q.a)({display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"center"},e.breakpoints.up("md"),{justifyContent:"space-between"}),sortByField:{marginRight:e.spacing(1)},sortButton:{textTransform:"none",letterSpacing:0,marginRight:e.spacing(2)},displayItemCounts:{}}}));function Q(e){var t=e.itemCounts,a=e.onSortChange,n=e.onModeChange,r=e.className,c=Object(f.a)(e,["itemCounts","onSortChange","onModeChange","className"]),m=H(),g=Object(l.a)([u.e.TRANSLATIONS,u.e.SETS]).t,p=G.a.sortOptions,d=Object(i.useState)(p[0].value),b=Object(o.a)(d,2),h=b[0],O=b[1],j=Object(i.useState)("grid"),y=Object(o.a)(j,2),S=y[0],w=y[1];return s.a.createElement(E.a,Object.assign({className:Object(v.a)(r,m.root)},c),s.a.createElement(I.a,{smDown:!0},s.a.createElement(E.a,{display:"flex",alignItems:"center"},s.a.createElement(z.a,{className:m.displayItemCounts,variant:"h5",color:"textPrimary"},"".concat(g("translations:showing")," ").concat(t," ").concat(g("sets:surgical instrument sets"))))),s.a.createElement(E.a,{display:"flex",alignItems:"center"},s.a.createElement(x.a,{label:g("translations:sort by"),name:"sort",onChange:function(e){e.persist(),O(e.target.value),a(e.target.value)},select:!0,SelectProps:{native:!0},value:h,variant:"outlined",size:"small",className:m.sortByField},p.map((function(e){return s.a.createElement("option",{key:e.value,value:e.value},e.label)}))),s.a.createElement(I.a,{mdDown:!0},s.a.createElement(E.a,{flexGrow:1}),s.a.createElement(_.a,{exclusive:!0,onChange:function(e,t){e.persist(),w(t),n(t)},size:"small",value:S},s.a.createElement(J.a,{value:"grid"},s.a.createElement(Z.a,{color:"primary"}))))))}Q.defaultProps={itemCounts:0,onSortChange:function(){},onModeChange:function(){},className:""};var U=Object(D.a)()(Q),V=a(26),X=a(1002),Y=a(983),$=a(1001),ee=a(982),te=a(938),ae=a(945),ne=Object(h.a)((function(){return{root:{minWidth:178}}}));var re=function(e){var t=e.loading,a=e.set,n=e.onRemove,r=e.className,c=Object(f.a)(e,["loading","set","onRemove","className"]),o=ne(),i=Object(l.a)([u.e.SETS,u.e.TRANSLATIONS]).t,m=Object(V.g)(),g=[{translateKey:"edit",click:function(){var e="/sets/".concat(a.id);m.push(e)},icon:s.a.createElement($.a,null)},{translateKey:"delete",click:function(){n&&n(a)},icon:s.a.createElement(ee.a,null)}];return s.a.createElement(k.a,Object.assign({className:Object(v.a)(o.root,r)},c),s.a.createElement(X.a,{title:t?s.a.createElement(Y.a,{animation:"wave",variant:"text","data-testid":"skeleton-title"}):s.a.createElement(z.a,{color:"textPrimary",variant:"h3"},a.name),action:t?null:s.a.createElement(ae.a,{buttonList:g})}),s.a.createElement(E.a,{pb:1,px:3},t?s.a.createElement("div",{"data-testid":"skeleton-details"},s.a.createElement(Y.a,{animation:"wave",height:15,style:{marginBottom:6}}),s.a.createElement(Y.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),s.a.createElement(Y.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}}),s.a.createElement(Y.a,{animation:"wave",height:10,width:"90%"})):s.a.createElement(z.a,{color:"textSecondary",variant:"body2"},a.description)),s.a.createElement(E.a,{py:2,px:2},s.a.createElement(j.a,{alignItems:"center",container:!0,justify:"space-between",spacing:2},s.a.createElement(j.a,{item:!0},t?s.a.createElement("div",{"data-testid":"skeleton-view-details-button"},s.a.createElement(Y.a,{animation:"wave",height:10,width:"80%"})):s.a.createElement(s.a.Fragment,null,s.a.createElement(y.a,{color:"primary",onClick:function(e){e.persist();var t="/sets/details/".concat(a.id);m.push(t)},variant:"contained",size:"small"},i("sets:view surgical type list")))),s.a.createElement(j.a,{item:!0},t?s.a.createElement("div",{"data-testid":"skeleton-mode-label"},s.a.createElement(Y.a,{animation:"wave",height:10,width:"80%"})):s.a.createElement(te.a,{color:!0===a.active?"success":"error"},!0===a.active?i("translations:active"):i("translations:inactive"))))))},ce=Object(h.a)((function(e){return{root:{},sortWrapper:{marginBottom:e.spacing(1)}}}));function oe(e){var t=e.loading,a=e.sets,n=e.itemCounts,r=(e.limit,e.onSortChange),c=e.onRemove,l=e.className,u=Object(f.a)(e,["loading","sets","itemCounts","limit","onSortChange","onRemove","className"]),m=ce(),g=Object(i.useState)("grid"),p=Object(o.a)(g,2),d=p[0],b=p[1];if(!0===t){for(var h=[],O=0;O<8;O++)h.push({id:Object(W.a)()});a=[].concat(h)}return(s.a.createElement("div",Object.assign({className:Object(v.a)(m.root,l)},u),s.a.createElement(U,{itemCounts:n,onSortChange:r,onModeChange:function(e){b(e)},className:m.sortWrapper}),s.a.createElement(j.a,{container:!0,spacing:1},a.map((function(e){return s.a.createElement(j.a,{item:!0,key:e.id,md:"grid"===d?3:12,sm:"grid"===d?6:12,xs:12},s.a.createElement(re,{set:e,loading:t,onRemove:c}))})))))}oe.defaultProps={loading:!0,itemCounts:0,limit:0,sets:[],onSortChange:function(){},className:"",onRemove:function(){}};var ie=oe,se=a(1027),le=Object(h.a)((function(e){return{root:{}}}));function ue(e){var t=e.page,a=e.limit,n=e.count,r=e.onChangePage,c=e.onChangeRowsPerPage,o=e.className,i=Object(f.a)(e,["page","limit","count","onChangePage","onChangeRowsPerPage","className"]),m=le(),g=Object(l.a)([u.e.TRANSLATIONS,u.e.SETS]).t,p=u.c.PAGE_OPTIONS;return s.a.createElement(E.a,Object.assign({className:Object(v.a)(o,m.root)},i,{display:"flex",justifyContent:"center"}),s.a.createElement(se.a,{component:"div",count:n,onChangePage:function(e,t){e.persist(),r(t)},onChangeRowsPerPage:function(e){e.persist(),c(e.target.value)},page:t,rowsPerPage:a,rowsPerPageOptions:p,labelRowsPerPage:g("translations:rows per page"),nextIconButtonText:g("translations:next page"),backIconButtonText:g("translations:previous page")}))}ue.defaultProps={page:u.c.PAGE,limit:u.c.PAGE_SIZES,count:0,onChangePage:function(){},onChangeRowsPerPage:function(){},className:""};var me=ue,ge=a(166),pe=a(1010),de=a(1007),fe=a(1008),be=a(1011),ve=a(1004),he=a(33),Oe=a(874),je=a(133),Ee=a(1009),ye=Object(h.a)((function(e){return{root:{},dialogTitle:{"& h2":{display:"flex"}}}}));var Se=function(e){var t=e.onClose,a=e.open,n=e.getMessage,r=Object(f.a)(e,["onClose","open","getMessage"]),c=Object(he.a)(),o=Object(Oe.a)(c.breakpoints.down("sm")),i=Object(l.a)([u.e.TRANSLATIONS]).t,m=ye();s.a.useEffect((function(){}),[a]);var g="";if(n){var p=n();p&&(g=p)}var d=Object(W.a)();return(s.a.createElement(ve.a,Object.assign({fullScreen:o,disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":d,open:a},r),s.a.createElement(de.a,{id:d,className:m.dialogTitle},s.a.createElement(je.a,null,s.a.createElement(ee.a,{fontSize:"small"})),s.a.createElement(E.a,{alignSelf:"center",component:"span",ml:1},i("translations:delete title dialog"))),s.a.createElement(fe.a,{dividers:!0},s.a.createElement(Ee.a,null,s.a.createElement(pe.a,{i18nKey:"are you sure you want to remove",values:{itemName:g}}))),s.a.createElement(be.a,null,s.a.createElement(y.a,{autoFocus:!0,onClick:function(){t(!1)},color:"primary"},i("translations:cancel")),s.a.createElement(y.a,{autoFocus:!0,onClick:function(){t(!0)},color:"primary"},i("translations:yes")))))},we=[{value:"name|asc",label:"Name (Ascending A to Z)"},{value:"name|desc",label:"Name (Descending Z to A)"}],Ne=Object(h.a)((function(e){return{root:{backgroundColor:e.palette.background.default},content:{marginTop:60}}}));t.default=function(){var e=Ne(),t=Object(l.a)([u.e.SETS,u.e.TRANSLATIONS]).t,a=Object(m.a)(),n=Object(i.useState)(!0),f=Object(o.a)(n,2),b=f[0],v=f[1],h=Object(i.useState)(null),j=Object(o.a)(h,2),y=j[0],S=j[1],w=Object(i.useState)(0),N=Object(o.a)(w,2),C=N[0],k=N[1],x=Object(i.useState)(we[0].value),P=Object(o.a)(x,2),I=P[0],R=P[1],T=Object(i.useState)(8),A=Object(o.a)(T,2),F=A[0],B=A[1],L=Object(i.useState)(""),W=Object(o.a)(L,2),q=W[0],z=W[1],D=Object(i.useState)(null),G=Object(o.a)(D,2),K=G[0],Z=G[1],_=Object(i.useState)(!1),J=Object(o.a)(_,2),H=J[0],Q=J[1],U=Object(i.useRef)(null),V=Object(ge.b)().enqueueSnackbar,X=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.remove(U.current);case 2:if(t=e.sent,Q(!1),t&&t.resultFlag){e.next=7;break}return V(null!==(a=null===t||void 0===t?void 0:t.errorMessage)&&void 0!==a?a:"Something is wrong.",{variant:"error"}),e.abrupt("return");case 7:t.resultFlag&&(V("Removed success!",{variant:"success"}),Z((function(){return U.current})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){v(!0),function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.getList(q,I,C,F);case 3:if(t=e.sent,a.current){e.next=6;break}return e.abrupt("return");case 6:t.resultFlag&&S(t.value),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.prev=11,a.current&&v(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,9,11,14]])})));return function(){return e.apply(this,arguments)}}()()}),[q,I,C,F,K,a]),y?(console.log("-----------render-----------",y),s.a.createElement(p.a,{className:e.root,title:t("sets:surgical instrument sets")},s.a.createElement(M,{onSearch:function(e){z((function(){return e}))}}),s.a.createElement(O.a,{maxWidth:"lg",className:e.content},y&&s.a.createElement(E.a,null,s.a.createElement(ie,{loading:b,sets:y.data,itemCounts:F,onSortChange:function(e){R((function(){return e}))},onRemove:function(e){U.current=e,Q(!0)},limit:F}),s.a.createElement(me,{mt:1,page:C,limit:F,count:y.total,onChangePage:function(e){k((function(){return e}))},onChangeRowsPerPage:function(e){B((function(){return e}))}})),s.a.createElement(Se,{onClose:function(e){e?X():Q(!1)},open:H,getMessage:function(){var e;return U.current?null===(e=U.current)||void 0===e?void 0:e.name:null}})))):s.a.createElement(d.a,null)}},929:function(e,t,a){"use strict";var n=a(287),r=a(0),c=a.n(r),o=a(932),i=a(26);function s(){var e;window.gtag&&(e=window).gtag.apply(e,arguments)}var l={pageview:function(e){s("config","",e)},event:function(e,t){s("event",e,t)}},u=Object(r.forwardRef)((function(e,t){var a=e.title,s=e.children,u=Object(n.a)(e,["title","children"]),m=Object(i.h)(),g=Object(r.useCallback)((function(){l.pageview({page_path:m.pathname})}),[m]);return Object(r.useEffect)((function(){g()}),[g]),c.a.createElement("div",Object.assign({ref:t},u),c.a.createElement(o.a,null,c.a.createElement("title",null,"Smart CSSD - ",a)),s)}));t.a=u},930:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0);function r(){var e=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){e.current=!1}}),[]),e}},936:function(e,t,a){"use strict";var n=a(23),r=a(168),c=a(41),o=new function e(){Object(r.a)(this,e),this.getAll=function(){return new Promise((function(e,t){c.a.get("/api/sets").then((function(t){e(t.data)})).catch((function(e){t({data:[],total:0,errors:e})}))}))},this.getById=function(e){return new Promise((function(t,a){c.a.get("/api/sets/getById",{params:{setId:e}}).then((function(e){e?t({resultFlag:!0,value:e.data}):a({resultFlag:!1,value:null,errorCode:"Something is wrong.",errorMessage:"response is ".concat(e),activityId:null})})).catch((function(e){a({resultFlag:!1,value:null,errorCode:"Something is wrong.",errorMessage:e.message,activityId:null})}))}))},this.getList=function(e,t,a,n){return new Promise((function(r,o){c.a.get("/api/sets/fetch",{params:{query:e,sort:t,page:a,limit:n}}).then((function(e){e?r({resultFlag:!0,value:e.data}):o({resultFlag:!1,value:null,errorCode:"Something is wrong.",errorMessage:"response is ".concat(e),activityId:null})})).catch((function(e){o({resultFlag:!1,value:null,errorCode:"Something is wrong.",errorMessage:e.message,activityId:null})}))}))},this.insert=function(e){return new Promise((function(t,a){c.a.post("/api/sets/new",e).then((function(e){t(e.data)})).catch((function(e){a({resultFlag:!1,value:null,errorCode:"Something is wrong.",errorMessage:e.message,activityId:null})}))}))},this.update=function(e){return new Promise((function(t,a){c.a.post("/api/sets/update",e).then((function(e){t(e.data)})).catch((function(e){a({resultFlag:!1,value:null,errorCode:"Something is wrong.",errorMessage:e.message,activityId:null})}))}))},this.remove=function(e){return new Promise((function(t,a){c.a.post("/api/sets/remove",Object(n.a)({},e)).then((function(e){t(e.data)})).catch((function(e){a({resultFlag:!1,value:null,errorCode:"Something is wrong.",errorMessage:e.message,activityId:null})}))}))},this.updateEquipmentItems=function(e,t){return new Promise((function(a,n){c.a.post("/api/sets/update-equipments",{id:e,equipments:t}).then((function(e){a(e.data)})).catch((function(e){n({resultFlag:!1,value:null,errorCode:"Something is wrong.",errorMessage:e.message,activityId:null})}))}))}};t.a=o},938:function(e,t,a){"use strict";var n=a(164),r=a(287),c=a(0),o=a.n(c),i=a(4),s=a(528),l=a(25),u=Object(s.a)((function(e){return{root:{fontFamily:e.typography.fontFamily,alignItems:"center",borderRadius:2,display:"inline-flex",flexGrow:0,whiteSpace:"nowrap",cursor:"default",flexShrink:0,fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,height:20,justifyContent:"center",letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),textTransform:"uppercase"},primary:{color:e.palette.primary.main,backgroundColor:Object(l.c)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(l.c)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(l.c)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(l.c)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(l.c)(e.palette.warning.main,.08)}}}));function m(e){var t=e.className,a=e.color,c=e.children,s=(e.style,Object(r.a)(e,["className","color","children","style"])),l=u();return o.a.createElement("span",Object.assign({className:Object(i.a)(l.root,Object(n.a)({},l[a],a),t)},s),c)}m.defaultProps={className:"",color:"secondary"},t.a=m},943:function(e,t,a){"use strict";var n=a(287),r=a(0),c=a.n(r),o=a(92),i=a(5),s=a.n(i),l=a(78),u=a(909),m=a(528),g=a(914),p=a(4),d=Object(m.a)((function(e){return{root:{color:e.palette.primary.title}}}));function f(e){var t=e.className,a=Object(n.a)(e,["className"]),r=d(),i=Object(u.a)([l.e.TRANSLATIONS]).t;return c.a.createElement(g.a,Object.assign({component:o.a,to:"/",className:Object(p.a)(r.root,t)},a),i("back to main page"))}f.prototype={className:s.a.string},t.a=Object(r.memo)(f)},944:function(e,t,a){"use strict";var n=a(287),r=a(0),c=a.n(r),o=a(4),i=a(528),s=a(875),l=Object(i.a)((function(e){return{root:{color:e.palette.primary.title}}}));t.a=function(e){var t=e.children,a=e.className,r=Object(n.a)(e,["children","className"]),i=l();return c.a.createElement(s.a,Object.assign({variant:"h3",className:Object(o.a)(a,i.root)},r),t)}},945:function(e,t,a){"use strict";var n=a(42),r=a(287),c=a(0),o=a.n(c),i=a(528),s=a(910),l=a(911),u=a(520),m=a(908),g=a(981),p=a(1e3),d=a(958),f=a.n(d),b=a(78),v=a(909),h=a(999),O=Object(i.a)((function(){return{menu:{maxWidth:"100%"}}}));function j(e){var t=e.buttonList,a=Object(r.a)(e,["buttonList"]),i=O(),d=Object(c.useRef)(null),j=Object(c.useState)(!1),E=Object(n.a)(j,2),y=E[0],S=E[1],w=Object(v.a)([b.e.TRANSLATIONS]).t;return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{title:w("translations:more options")},o.a.createElement(l.a,Object.assign({},a,{onClick:function(){S(!0)},ref:d}),o.a.createElement(f.a,{fontSize:"small"}))),o.a.createElement(u.a,{anchorEl:d.current,anchorOrigin:{vertical:"top",horizontal:"left"},onClose:function(){S(!1)},open:y,PaperProps:{className:i.menu},transformOrigin:{vertical:"top",horizontal:"left"}},t&&t.map((function(e){return o.a.createElement(m.a,{onClick:function(){var t;"function"===typeof(t=e).click&&(t.click(),S(!1))},key:Object(h.a)(e),value:e},o.a.createElement(g.a,null,e.icon),o.a.createElement(p.a,{primary:w(e.translateKey)}))}))))}j.defaultProps={className:"",buttonList:[]},t.a=Object(c.memo)(j)}}]);
//# sourceMappingURL=16.8cf2583e.chunk.js.map