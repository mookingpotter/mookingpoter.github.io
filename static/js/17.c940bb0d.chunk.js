(this["webpackJsonpsmart-cssd"]=this["webpackJsonpsmart-cssd"]||[]).push([[17],{744:function(e,a,t){"use strict";var r=t(244),n=t(0),c=t.n(n),o=t(747),s=t(23);function i(){var e;window.gtag&&(e=window).gtag.apply(e,arguments)}var l={pageview:function(e){i("config","",e)},event:function(e,a){i("event",e,a)}},u=Object(n.forwardRef)((function(e,a){var t=e.title,i=e.children,u=Object(r.a)(e,["title","children"]),m=Object(s.h)(),d=Object(n.useCallback)((function(){l.pageview({page_path:m.pathname})}),[m]);return Object(n.useEffect)((function(){d()}),[d]),c.a.createElement("div",Object.assign({ref:a},u),c.a.createElement(o.a,null,c.a.createElement("title",null,"Smart CSSD - ",t)),i)}));a.a=u},745:function(e,a,t){"use strict";t.d(a,"b",(function(){return c})),t.d(a,"a",(function(){return o}));var r=t(103),n=function(e){var a=e.errorCode,t=e.errorMessage,r=e.activityId;return{resultFlag:!1,errorCode:null!==a&&void 0!==a?a:"something went wrong",errorMessage:t,activityId:null!==r&&void 0!==r?r:""}},c=function(e){var a,t=e.data;return(a=t)?{resultFlag:!0,value:Object(r.a)({},a)}:{resultFlag:!0}},o=function(e){if(e.response){var a=e.response,t=a.data,r=a.status,c=a.statusText;a.headers;return n(t||{errorMessage:"".concat(r,": ").concat(c)})}return e.request?(console.error(e.request),console.error("Error: ",e.message),n({errorMessage:e.message})):(console.error("Error: ",e.message),n({errorMessage:e.message}))}},746:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var r=t(0);function n(){var e=Object(r.useRef)(!0);return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),e}},753:function(e,a,t){"use strict";var r=t(92),n=t(244),c=t(0),o=t.n(c),s=t(4),i=t(443),l=t(22),u=Object(i.a)((function(e){return{root:{fontFamily:e.typography.fontFamily,alignItems:"center",borderRadius:2,display:"inline-flex",flexGrow:0,whiteSpace:"nowrap",cursor:"default",flexShrink:0,fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,height:20,justifyContent:"center",letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),textTransform:"uppercase"},primary:{color:e.palette.primary.main,backgroundColor:Object(l.c)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(l.c)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(l.c)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(l.c)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(l.c)(e.palette.warning.main,.08)}}}));function m(e){var a=e.className,t=e.color,c=e.children,i=(e.style,Object(n.a)(e,["className","color","children","style"])),l=u();return o.a.createElement("span",Object.assign({className:Object(s.a)(l.root,Object(r.a)({},l[t],t),a)},i),c)}m.defaultProps={className:"",color:"secondary"},a.a=m},764:function(e,a,t){"use strict";var r=t(1),n=t(3),c=t(0),o=(t(5),t(4)),s=t(6),i=c.forwardRef((function(e,a){var t=e.classes,s=e.className,i=e.component,l=void 0===i?"div":i,u=Object(n.a)(e,["classes","className","component"]);return(c.createElement(l,Object(r.a)({className:Object(o.a)(t.root,s),ref:a},u)))}));a.a=Object(s.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(i)},767:function(e,a,t){"use strict";t.d(a,"b",(function(){return c})),t.d(a,"a",(function(){return o})),t.d(a,"c",(function(){return s}));var r=t(67),n=t(745),c=function(e){var a=e.filters,t=e.sort,c=e.page,o=e.limit;return new Promise((function(e,s){r.a.get("/api/borrowing-history/fetch",{params:{sort:t,page:c,limit:o,filters:a}}).then((function(a){var t=n.b(a);e(t)})).catch((function(e){var a=n.a(e);s(a)}))}))},o=function(e){return new Promise((function(a,t){r.a.get("/api/borrowing-history/getById",{params:{id:e}}).then((function(e){var t=n.b(e);a(t)})).catch((function(e){var a=n.a(e);t(a)}))}))},s=function(e){return new Promise((function(a,t){r.a.get("/api/borrowing-history/getEquipments",{params:{id:e}}).then((function(e){var t=n.b(e);a(t)})).catch((function(e){var a=n.a(e);t(a)}))}))}},768:function(e,a,t){"use strict";var r=t(244),n=t(0),c=t.n(n),o=t(4),s=t(753),i=t(443),l=Object(i.a)((function(){return{root:{}}}));a.a=function(e){var a=e.status,t=e.className,n=Object(r.a)(e,["status","className"]),i=l(),u="";switch(a){case"Borrowed":u="warning";break;case"Returned":u="success";break;case"Created":u="secondary"}return(c.a.createElement(s.a,Object.assign({color:u,className:Object(o.a)(i.root,t)},n),a))}},846:function(e,a,t){"use strict";var r=t(3),n=t(1),c=t(0),o=(t(5),t(4)),s=t(6),i=t(787),l=c.forwardRef((function(e,a){var t=e.classes,s=e.className,l=e.component,u=void 0===l?"table":l,m=e.padding,d=void 0===m?"default":m,f=e.size,b=void 0===f?"medium":f,p=e.stickyHeader,g=void 0!==p&&p,v=Object(r.a)(e,["classes","className","component","padding","size","stickyHeader"]),y=c.useMemo((function(){return{padding:d,size:b,stickyHeader:g}}),[d,b,g]);return c.createElement(i.a.Provider,{value:y},c.createElement(u,Object(n.a)({role:"table"===u?null:"table",ref:a,className:Object(o.a)(t.root,s,g&&t.stickyHeader)},v)))}));a.a=Object(s.a)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(n.a)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(l)},847:function(e,a,t){"use strict";var r=t(1),n=t(3),c=t(0),o=(t(5),t(4)),s=t(6),i=t(774),l={variant:"body"},u=c.forwardRef((function(e,a){var t=e.classes,s=e.className,u=e.component,m=void 0===u?"tbody":u,d=Object(n.a)(e,["classes","className","component"]);return(c.createElement(i.a.Provider,{value:l},c.createElement(m,Object(r.a)({className:Object(o.a)(t.root,s),ref:a,role:"tbody"===m?null:"rowgroup"},d))))}));a.a=Object(s.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(u)},848:function(e,a,t){"use strict";var r=t(1),n=t(3),c=t(0),o=(t(5),t(4)),s=t(6),i=t(774),l=t(22),u=c.forwardRef((function(e,a){var t=e.classes,s=e.className,l=e.component,u=void 0===l?"tr":l,m=e.hover,d=void 0!==m&&m,f=e.selected,b=void 0!==f&&f,p=Object(n.a)(e,["classes","className","component","hover","selected"]),g=c.useContext(i.a);return c.createElement(u,Object(r.a)({ref:a,className:Object(o.a)(t.root,s,g&&{head:t.head,footer:t.footer}[g.variant],d&&t.hover,b&&t.selected),role:"tr"===u?null:"row"},p))}));a.a=Object(s.a)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(l.c)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(u)},855:function(e,a,t){"use strict";t.r(a);var r=t(16),n=t.n(r),c=t(103),o=t(31),s=t(56),i=t(0),l=t.n(i),u=t(723),m=t(55),d=t(746),f=t(744),b=t(767),p=t(443),g=t(750),v=t(755),y=t(733),h=t(764),O=t(690),E=t(244),j=t(4),w=t(78),N=t(703),k=t(728),x=t(768),T=Object(p.a)((function(e){return{root:{},label:{marginLeft:e.spacing(2)}}}));var C=function(e){var a=e.borrowingTime,t=e.className,r=Object(E.a)(e,["borrowingTime","className"]),n=T(),c=Object(u.a)([m.e.TRANSLATIONS,m.e.BORROWING_HISTORY]).t;return l.a.createElement(N.a,Object.assign({className:Object(j.a)(t,n.root)},r),l.a.createElement(N.a,{flexGrow:1},l.a.createElement(O.a,{variant:"body2",component:"div",gutterBottom:!0},l.a.createElement(N.a,{fontWeight:500,ml:1,color:"textPrimary",component:"p",display:"inline",fontSize:"h1.fontSize"},null===a||void 0===a?void 0:a.surgicalType),l.a.createElement(x.a,{status:null===a||void 0===a?void 0:a.status,className:n.label}))),l.a.createElement(k.a,{variant:"outlined",size:"medium",color:"secondary",component:w.a,to:"/borrowing-history"},c("translations:exit")))},R=t(23),S=t(247),M=t(776),B=t.n(M),I=t(828),W=t(782),H=t(846),P=t(847),A=t(848),z=t(829),D=Object(p.a)((function(e){return{root:{width:56,height:56},circle1:{stroke:"dark"===e.palette.type?"rgba(0,0,0,0.15)":"rgba(0,0,0,0.05)",fill:"none",strokeWidth:4},circle2:{stroke:e.palette.secondary.main,fill:"none",strokeWidth:4,animation:"$progress 1s ease-out forwards"},"@keyframes progress":{"0%":{strokeDasharray:"0 100"}}}}));var F=function(e){var a=e.value,t=e.className,r=Object(E.a)(e,["value","className"]),n=D();return l.a.createElement("div",Object.assign({className:Object(j.a)(n.root,t)},r),l.a.createElement("svg",{viewBox:"0 0 36 36"},l.a.createElement("path",{className:n.circle1,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",strokeDasharray:"100, 100"}),l.a.createElement("path",{className:n.circle2,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",strokeDasharray:"".concat(a,", 100")})))},$=Object(p.a)((function(e){return{root:{},image:{flexShrink:0,height:56,width:56}}}));var G=function(e){var a=e.borrowingTime,t=e.className,r=Object(E.a)(e,["borrowingTime","className"]),c=$(),u=Object(d.a)(),m=Object(i.useState)(null),f=Object(s.a)(m,2),p=f[0],g=f[1],v=Object(i.useCallback)(Object(o.a)(n.a.mark((function e(){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.c)(a.id);case 2:(t=e.sent).resultFlag&&(r=t.value.data,u.current&&g((function(){return Object(S.a)(r.medicalTools)})));case 4:case"end":return e.stop()}}),e)}))),[u,a]);return Object(i.useEffect)((function(){v()}),[v]),p?l.a.createElement(y.a,Object.assign({className:Object(j.a)(c.root,t)},r),l.a.createElement(I.a,{title:"Medical Tools"}),l.a.createElement(W.a,null),l.a.createElement(B.a,null,l.a.createElement(N.a,{minWidth:700},l.a.createElement(H.a,null,l.a.createElement(P.a,null,p.map((function(e){var a=100*e.returned/e.count;return(l.a.createElement(A.a,{hover:!0,key:e.id},l.a.createElement(z.a,null,l.a.createElement(N.a,{display:"flex",alignItems:"center"},l.a.createElement("img",{alt:e.name,className:c.image,src:e.media}),l.a.createElement(N.a,{ml:2},l.a.createElement(O.a,{variant:"body2",color:"textPrimary"},e.name)))),l.a.createElement(z.a,null,l.a.createElement(x.a,{status:e.status})),l.a.createElement(z.a,null,l.a.createElement(N.a,{display:"flex",alignItems:"center",justifyContent:"flex-end"},l.a.createElement(N.a,{mr:2},l.a.createElement(O.a,{align:"right",variant:"h6",color:"textPrimary"},e.returned," / ",e.count),l.a.createElement(O.a,{variant:"body2",color:"textSecondary"},"Returned")),l.a.createElement(F,{value:a})))))}))))))):null},L=t(260),q=t(734),_=Object(p.a)((function(e){return{root:{},content:{display:"flex",justifyContent:"center"},wrapper:{width:120,height:120},circle1:{stroke:"dark"===e.palette.type?"rgba(0,0,0,0.15)":"rgba(0,0,0,0.05)",fill:"none",strokeWidth:4},circle2:{stroke:e.palette.secondary.main,fill:"none",strokeWidth:4,animation:"$progress 1s ease-out forwards"},"@keyframes progress":{"0%":{strokeDasharray:"0 100"}},value:{marginLeft:50,marginTop:-72}}}));var J=function(e){var a=e.value,t=e.className,r=Object(E.a)(e,["value","className"]),n=_();return l.a.createElement(y.a,Object.assign({className:Object(j.a)(n.root,t)},r),l.a.createElement(h.a,{className:n.content},l.a.createElement("div",{className:n.wrapper},l.a.createElement("svg",{viewBox:"0 0 36 36"},l.a.createElement("path",{className:n.circle1,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",strokeDasharray:"100, 100"}),l.a.createElement("path",{className:n.circle2,d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",strokeDasharray:"".concat(a,", 100")})),l.a.createElement(O.a,{variant:"body2",className:n.value},a))),l.a.createElement(q.a,null,l.a.createElement(v.a,{container:!0,display:"flex"},l.a.createElement(v.a,{item:!0,container:!0,xs:!0,direction:"column",style:{textAlign:"center"}},l.a.createElement(v.a,{item:!0},l.a.createElement(O.a,{variant:"body2"},20)),l.a.createElement(v.a,{item:!0},l.a.createElement(O.a,{variant:"body2"},"Returned"))),l.a.createElement(v.a,{item:!0,container:!0,xs:!0,direction:"column",style:{textAlign:"center"}},l.a.createElement(v.a,{item:!0},l.a.createElement(O.a,{variant:"body2"},80)),l.a.createElement(v.a,{item:!0},l.a.createElement(O.a,{variant:"body2"},"Borrowed"))))))},Y=Object(p.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",padding:e.spacing(2,0)},card:{marginRight:16}}}));a.default=function(e){var a,t=e.match,r=Y(),p=Object(u.a)([m.e.BORROWING_HISTORY,m.e.TRANSLATIONS]).t,E=Object(d.a)(),j=Object(i.useState)(null),w=Object(s.a)(j,2),N=w[0],k=w[1],x=Object(R.g)(),T=null===(a=t.params)||void 0===a?void 0:a.id;return Object(i.useEffect)((function(){function e(){return(e=Object(o.a)(n.a.mark((function e(){var a,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(T);case 2:(a=e.sent).resultFlag&&((t=a.value.data)||("/404",x.push("/404")),E.current&&k((function(){return Object(c.a)({},t)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}T&&function(){e.apply(this,arguments)}()}),[E,x,T]),N?l.a.createElement(f.a,{className:r.root,title:p("borrowHistory:view borrowing history details")},l.a.createElement(g.a,{maxWidth:"lg"},l.a.createElement(C,{mb:1,display:"flex",borrowingTime:N}),l.a.createElement(v.a,{container:!0,display:"flex",justify:"center"},l.a.createElement(v.a,{item:!0,xs:12,md:3},l.a.createElement(v.a,{item:!0,xs:!0,className:r.card},l.a.createElement(J,{value:20})),l.a.createElement(v.a,{item:!0,xs:!0,className:r.card,style:{marginTop:8}},l.a.createElement(y.a,null,l.a.createElement(h.a,null,l.a.createElement(O.a,{variant:"body2",gutterBottom:!0},"\u0e22\u0e37\u0e21\u0e42\u0e14\u0e22 : ",N.borrowBy),l.a.createElement(O.a,{variant:"body2",gutterBottom:!0},"\u0e04\u0e37\u0e19\u0e42\u0e14\u0e22 : ",N.returnBy))))),l.a.createElement(v.a,{item:!0,xs:12,md:9},l.a.createElement(G,{borrowingTime:N}))))):l.a.createElement(L.a,null)}}}]);
//# sourceMappingURL=17.c940bb0d.chunk.js.map