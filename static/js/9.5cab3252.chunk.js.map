{"version":3,"sources":["utils/analytics.js","components/Page.js","services/response.js","utils/filters.js","components/Label.js","services/equipmentService.js","views/equipments/CreateView/UploadImages/UploadImageItem.js","views/equipments/CreateView/UploadImages/ShowImageItem.js","views/equipments/CreateView/UploadImages/index.js","views/equipments/CreateView/Detail.js","views/equipments/CreateView/index.js"],"names":["track","window","gtag","pageview","props","process","event","type","Page","forwardRef","ref","title","children","rest","location","useLocation","sendPageViewEvent","useCallback","page_path","pathname","useEffect","Helmet","initError","errorCode","errorMessage","activityId","resultFlag","accessResponse","response","value","data","accessError","error","status","statusText","headers","request","console","message","operators","equals","notEquals","greaterThan","greaterThanOrEquals","lessThan","lessThanOrEquals","contains","startWith","initFilter","field","operator","useStyles","makeStyles","theme","root","fontFamily","typography","alignItems","borderRadius","display","flexGrow","whiteSpace","cursor","flexShrink","fontSize","pxToRem","fontWeight","fontWeightMedium","height","justifyContent","letterSpacing","minWidth","padding","spacing","textTransform","primary","color","palette","main","backgroundColor","fade","secondary","success","warning","Label","className","style","classes","clsx","defaultProps","equipmentService","getAll","Promise","resolve","reject","axios","get","then","result","handleResponse","catch","getById","equipmentId","params","getList","filter","sort","page","pageSize","customFilter","insert","dataItem","post","update","put","remove","log","delete","id","bgDropZone","background","border","pointerCursor","iconUploadSize","UploadImageItem","onHandleFileSelect","t","useTranslation","TRANSLATE_NS","EQUIPMENTS","TRANSLATIONS","onDrop","file","name","multiple","accept","getRootProps","getInputProps","Box","textAlign","width","Typography","variant","boxImageRoot","position","boxImageMenuRoot","transition","opacity","boxImage","objectFit","ShowImageItem","useFormProp","onHandleDeleteImage","Button","onClick","src","alt","gridUploadImage","paddingTop","UploadImages","useState","selectFile","setSelectFile","setValue","files","a","reader","FileReader","onload","preview","onSetHandleFileUploadImage","target","readAsDataURL","map","Object","assign","URL","createObjectURL","textFields","label","default","btnScanRFIDStop","marginTop","common","white","dark","btnScanRFIDStart","btnRemoveScanRFID","btnIconScanRFID","marginRight","EquipmentDetails","useDispatch","ERRORS","control","errors","rfidField","watchRFIDFields","isScanRFID","isRfidList","onScanRFID","hasError","inputName","mt","key","render","TextField","helperText","fullWidth","multiline","rows","rowsMax","inputProps","data-testid","length","fields","item","index","pt","pb","defaultValue","code","withStyles","vertical","marginLeft","line","borderColor","divider","StepConnector","paper","zIndex","action","disabled","lineHeight","borderWidth","borderStyle","active","completed","minHeight","stepperRoot","stepperLabel","text","drawerPaper","drawerTypoFontWeight","btnSaveForm","boxContainer","avatar","colors","red","EquipmentCreateView","match","setCompleted","isFirst","useRef","setIsScanRFID","setIsRfidList","schema","Yup","shape","required","min","max","description","useForm","mode","defaultValues","image","rfidList","shouldUnregister","resolver","yupResolver","handleSubmit","reset","watch","getValues","useFieldArray","onSubmit","callback","arcAction","errorObj","equipmentsService","current","Card","CardContent","maxWidth","mx","Avatar","align","component","RouterLink","to","mb","gutterBottom","size","Grid","container","xs","sm","md","Detail","persist","i","setTimeout","newId","uuidv4","append","find"],"mappings":"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","file":"static/js/9.5cab3252.chunk.js","sourcesContent":["function track(...args) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      return;\r\n    }\r\n  \r\n    if (!window.gtag) {\r\n      return;\r\n    }\r\n  \r\n    window.gtag(...args);\r\n  }\r\n  \r\n  function pageview(props) {\r\n    track('config', process.env.REACT_APP_GA_MEASUREMENT_ID, props);\r\n  }\r\n  \r\n  function event(type, props) {\r\n    track('event', type, props);\r\n  }\r\n  \r\n  export default {\r\n    pageview,\r\n    event\r\n  };\r\n","import React, {\r\n    forwardRef,\r\n    useEffect, useCallback\r\n  } from 'react';\r\n  import { Helmet } from 'react-helmet';\r\n  import { useLocation } from 'react-router';\r\n  import PropTypes from 'prop-types';\r\n  import track from 'src/utils/analytics';\r\n  \r\n  const Page = forwardRef(({\r\n    title,\r\n    children,\r\n    ...rest\r\n  }, ref) => {\r\n    const location = useLocation();\r\n  \r\n    const sendPageViewEvent = useCallback(() => {\r\n      track.pageview({\r\n        page_path: location.pathname\r\n      });\r\n    }, [location]);\r\n  \r\n    useEffect(() => {\r\n      sendPageViewEvent();\r\n    }, [sendPageViewEvent]);\r\n  \r\n    return (\r\n      <div\r\n        ref={ref}\r\n        {...rest}\r\n      >\r\n        <Helmet>\r\n          <title>Smart CSSD - {title}</title>\r\n        </Helmet>\r\n        {children}\r\n      </div>\r\n    );\r\n  });\r\n  \r\n  Page.propTypes = {\r\n    children: PropTypes.node,\r\n    title: PropTypes.string\r\n  };\r\n  \r\n  export default Page;\r\n  ","export const initError = ({errorCode, errorMessage, activityId}) => {\r\n  const displayErrorCode =  errorCode ?? \"something went wrong\"\r\n  const displayActivityId = activityId ?? \"\"\r\n  return { \r\n    resultFlag: false, \r\n    errorCode: displayErrorCode,\r\n    errorMessage: errorMessage,\r\n    activityId: displayActivityId\r\n  }\r\n}\r\n\r\nexport const initResult = (value) => {\r\n  if(value) \r\n    return { resultFlag: true, value: {...value} }\r\n  else\r\n    return { resultFlag: true }\r\n}\r\n\r\nexport const accessResponse = (response) => {\r\n  const { data, /*status, statusText, headers, config, request*/ } = response\r\n  //console.log(response)\r\n  const result = initResult(data)\r\n  //console.log('result: ', result)\r\n  return result\r\n}\r\n\r\nexport const accessError = (error) => {\r\n  if(error.response){\r\n    // The request was made and the server responded with a status code\r\n    // that falls out of the range of 2xx\r\n    const { data, status, statusText, headers } = error.response\r\n    // console.log(\"---------------------------------\")\r\n    // console.log(status)\r\n    // console.log(data)\r\n    // console.log(headers)\r\n    // console.log(\"---------------------------------\")\r\n\r\n    if(!data){\r\n      const result = initError({ errorMessage: `${status}: ${statusText}` })\r\n      return result\r\n    }\r\n    else{\r\n      const result = initError(data)\r\n      return result\r\n    }\r\n  }\r\n  else if(error.request){\r\n    // The request was made but no response was received\r\n    // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n    // http.ClientRequest in node.js\r\n    console.error(error.request)\r\n    debugger\r\n    console.error(`Error: `, error.message)\r\n    \r\n    const result = initError({ errorMessage: error.message })\r\n    return result\r\n  }\r\n  else{\r\n    // Something happened in setting up the request that triggered an Error\r\n    console.error(`Error: `, error.message)\r\n    \r\n    const result = initError({ errorMessage: error.message })\r\n    return result\r\n  }\r\n}","export const operators = {\r\n  equals: \"eq\",\r\n  notEquals: \"neq\",\r\n  greaterThan: \"gt\",\r\n  greaterThanOrEquals: \"gte\",\r\n  lessThan: \"lt\",\r\n  lessThanOrEquals: \"lte\",\r\n  contains: \"ct\",\r\n  startWith: \"st\"\r\n}\r\n\r\nexport const logic = {\r\n  and: \"and\",\r\n  or: \"or\"\r\n}\r\n\r\nexport const initFilter = ({field, operator = operators.contains, value = \"\"}) => {\r\n  if(!field) return null  \r\n  else  return { field, operator, value }\r\n}\r\n\r\nexport const initFilters = ({logic = \"and\", filters = []}) => {\r\n  return { logic, filters }\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { fade, makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        fontFamily: theme.typography.fontFamily,\r\n        alignItems: 'center',\r\n        borderRadius: 2,\r\n        display: 'inline-flex',\r\n        flexGrow: 0,\r\n        whiteSpace: 'nowrap',\r\n        cursor: 'default',\r\n        flexShrink: 0,\r\n        fontSize: theme.typography.pxToRem(12),\r\n        fontWeight: theme.typography.fontWeightMedium,\r\n        height: 20,\r\n        justifyContent: 'center',\r\n        letterSpacing: 0.5,\r\n        minWidth: 20,\r\n        padding: theme.spacing(0.5, 1),\r\n        textTransform: 'uppercase',\r\n    },\r\n    primary: {\r\n        color: theme.palette.primary.main,\r\n        backgroundColor: fade(theme.palette.primary.main, 0.08)\r\n    },\r\n    secondary: {\r\n        color: theme.palette.secondary.main,\r\n        backgroundColor: fade(theme.palette.secondary.main, 0.08)\r\n    },\r\n    error: {\r\n        color: theme.palette.error.main,\r\n        backgroundColor: fade(theme.palette.error.main, 0.08)\r\n    },\r\n    success: {\r\n        color: theme.palette.success.main,\r\n        backgroundColor: fade(theme.palette.success.main, 0.08)\r\n    },\r\n    warning: {\r\n        color: theme.palette.warning.main,\r\n        backgroundColor: fade(theme.palette.warning.main, 0.08)\r\n    }\r\n}));\r\n\r\nfunction Label({\r\n  className,\r\n  color,\r\n  children,\r\n  style,\r\n  ...rest\r\n}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <span\r\n      className={\r\n        clsx(classes.root, {\r\n          [classes[color]]: color\r\n        }, className)\r\n      }\r\n      {...rest}\r\n    >\r\n      {children}\r\n    </span>\r\n  );\r\n}\r\n\r\nLabel.propTypes = {\r\n    children: PropTypes.node,\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    color: PropTypes.oneOf(['primary', 'secondary', 'error', 'warning', 'success'])\r\n  };\r\n  \r\n  Label.defaultProps = {\r\n    className: '',\r\n    color: 'secondary'\r\n  };\r\n  \r\n  export default Label;  ","import axios from 'src/utils/axios';\r\nimport { initFilter } from 'src/utils/filters';\r\nimport * as handleResponse from './response';\r\n\r\nclass EquipmentService {\r\n getAll = () =>\r\n  new Promise((resolve, reject) => {\r\n   axios\r\n    .get('/api/inventories/medicalDevices')\r\n    .then(response => {\r\n     const result = handleResponse.accessResponse(response);\r\n     resolve(result);\r\n    })\r\n    .catch(error => {\r\n     const result = handleResponse.accessError(error);\r\n     reject(result);\r\n    });\r\n  });\r\n\r\n getById = equipmentId =>\r\n  new Promise((resolve, reject) => {\r\n   axios\r\n    .get('/api/inventories/medicalDevices/' + equipmentId, {\r\n     params: { equipmentId }\r\n    })\r\n    .then(response => {\r\n     const result = handleResponse.accessResponse(response);\r\n     resolve(result);\r\n    })\r\n    .catch(error => {\r\n     const result = handleResponse.accessError(error);\r\n     reject(result);\r\n    });\r\n  });\r\n\r\n getList = (filter, sort, page, pageSize) =>\r\n  new Promise((resolve, reject) => {\r\n   const customFilter =\r\n    filter && filter !== '' ? initFilter({ field: 'name', value: filter }) : '';\r\n\r\n   axios\r\n    .get('/api/inventories/medicalDevices', {\r\n     params: { filter: customFilter, sort, page, pageSize }\r\n    })\r\n    .then(response => {\r\n     const result = handleResponse.accessResponse(response);\r\n     resolve(result);\r\n    })\r\n    .catch(error => {\r\n     const result = handleResponse.accessError(error);\r\n     reject(result);\r\n    });\r\n  });\r\n\r\n insert = dataItem =>\r\n  new Promise((resolve, reject) => {\r\n   axios\r\n    .post('/api/inventories/medicalDevices', dataItem)\r\n    .then(response => {\r\n     resolve(response.data);\r\n    })\r\n    .catch(error => {\r\n     reject({\r\n      resultFlag: false,\r\n      value: null,\r\n      errorCode: 'Something is wrong.',\r\n      errorMessage: error.message,\r\n      activityId: null\r\n     });\r\n    });\r\n  });\r\n\r\n update = dataItem =>\r\n  new Promise((resolve, reject) => {\r\n   axios\r\n    .put('/api/inventories/medicalDevices', dataItem)\r\n    .then(response => {\r\n     resolve(response.data);\r\n    })\r\n    .catch(error => {\r\n     reject({\r\n      resultFlag: false,\r\n      value: null,\r\n      errorCode: 'Something is wrong.',\r\n      errorMessage: error.message,\r\n      activityId: null\r\n     });\r\n    });\r\n  });\r\n\r\n remove = dataItem =>\r\n  new Promise((resolve, reject) => {\r\n   console.log('remove: ', dataItem);\r\n\r\n   axios\r\n    .delete('/api/inventories/medicalDevices/' + dataItem.id, {\r\n     ...dataItem\r\n    })\r\n    .then(response => {\r\n     console.log(response);\r\n     const result = handleResponse.accessResponse(response);\r\n     resolve(result);\r\n    })\r\n    .catch(error => {\r\n     const result = handleResponse.accessError(error);\r\n     reject(result);\r\n    });\r\n  });\r\n}\r\n\r\nconst equipmentService = new EquipmentService();\r\n\r\nexport default equipmentService;\r\n","import React from 'react';\r\nimport { Box, Typography, makeStyles } from '@material-ui/core';\r\nimport Dropzone from 'react-dropzone';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { TRANSLATE_NS } from 'src/constants';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n bgDropZone: {\r\n  height: '350px',\r\n  background: '#E4E4E4',\r\n  border: '1px solid #E1E1E1'\r\n },\r\n pointerCursor: {\r\n  cursor: 'pointer'\r\n },\r\n iconUploadSize: {\r\n  fontSize: 72,\r\n  color: '#404040'\r\n }\r\n}));\r\n\r\nfunction UploadImageItem({ onHandleFileSelect }) {\r\n const classes = useStyles();\r\n const { t } = useTranslation([\r\n  TRANSLATE_NS.EQUIPMENTS,\r\n  TRANSLATE_NS.TRANSLATIONS\r\n ]);\r\n\r\n return (\r\n  <Dropzone\r\n   onDrop={file => onHandleFileSelect(file)}\r\n   name=\"image\"\r\n   multiple={false}\r\n   accept=\"image/jpeg,image/png\"\r\n  >\r\n   {({ getRootProps, getInputProps }) => (\r\n    <div\r\n     {...getRootProps({ className: 'dropzone' })}\r\n     className={classes.bgDropZone}\r\n    >\r\n     <input name=\"image\" {...getInputProps()} />\r\n     <Box\r\n      display=\"flex\"\r\n      alignItems=\"center\"\r\n      textAlign=\"center\"\r\n      height=\"100%\"\r\n      className={classes.pointerCursor}\r\n     >\r\n      <Box width=\"100%\">\r\n       <CloudUploadIcon className={classes.iconUploadSize} />\r\n       <Typography variant=\"body1\">\r\n        {t('equipments:form2.title upload image')}\r\n       </Typography>\r\n      </Box>\r\n     </Box>\r\n    </div>\r\n   )}\r\n  </Dropzone>\r\n );\r\n}\r\n\r\nexport default UploadImageItem;\r\n","import React from 'react';\r\nimport { Button, Box, Typography, makeStyles } from '@material-ui/core';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { TRANSLATE_NS } from 'src/constants';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n boxImageRoot: {\r\n  // height: '306px',\r\n  position: 'relative'\r\n },\r\n boxImageMenuRoot: {\r\n  position: 'absolute',\r\n  width: '100%',\r\n  height: '100%',\r\n  transition: '0.5s',\r\n  opacity: '0',\r\n  '&:hover': {\r\n   opacity: '1'\r\n  }\r\n },\r\n boxImage: {\r\n  objectFit: 'contain',\r\n  width: '100%',\r\n  // height: '350px',\r\n  background: '#f6f6f6'\r\n }\r\n}));\r\n\r\nfunction ShowImageItem({ ...useFormProp }) {\r\n const classes = useStyles();\r\n const { t } = useTranslation([\r\n  TRANSLATE_NS.EQUIPMENTS,\r\n  TRANSLATE_NS.TRANSLATIONS\r\n ]);\r\n\r\n const { file, onHandleDeleteImage } = useFormProp;\r\n\r\n return (\r\n  <Box className={classes.boxImageRoot}>\r\n   <Box className={classes.boxImageMenuRoot}>\r\n    <Box display=\"flex\" justifyContent={'flex-end'}>\r\n     <Button\r\n      variant=\"contained\"\r\n      color=\"secondary\"\r\n      onClick={() => onHandleDeleteImage()}\r\n     >\r\n      {t('equipments:button.delete')}\r\n     </Button>\r\n    </Box>\r\n   </Box>\r\n\r\n   <img src={file} className={classes.boxImage} alt={file.name} />\r\n  </Box>\r\n );\r\n}\r\n\r\nexport default ShowImageItem;\r\n","import React, { useState, Fragment } from 'react';\r\nimport { Box, Typography, makeStyles } from '@material-ui/core';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { TRANSLATE_NS } from 'src/constants';\r\nimport UploadImageItem from './UploadImageItem';\r\nimport ShowImageItem from './ShowImageItem';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n root: {},\r\n gridUploadImage: {\r\n  paddingTop: theme.spacing(2)\r\n }\r\n}));\r\n\r\nfunction UploadImages({ ...useFormProp }) {\r\n const classes = useStyles();\r\n const [selectFile, setSelectFile] = useState(null);\r\n const { t } = useTranslation([\r\n  TRANSLATE_NS.EQUIPMENTS,\r\n  TRANSLATE_NS.TRANSLATIONS\r\n ]);\r\n\r\n const { setValue } = useFormProp;\r\n\r\n const onHandleFileSelect = async files => {\r\n  let file = files[0];\r\n  if (typeof file !== 'undefined') {\r\n   let reader = new FileReader();\r\n   reader.onload = event => {\r\n    let preview = onSetHandleFileUploadImage(files); // return path ไฟล์ สำหรับการแปลงค่าเป็น Blob image\r\n    let imageBase64 = event.target.result; // เป็นการกำหนดภาพเป็น base64\r\n    setSelectFile(preview); // เซตค่าให้สำหรับ react-hook ในการกำหนด stage ให้โชว์ภาพหรือไม่โชว์ภาพ\r\n    setValue('image', preview); // เซตค่าให้สำหรับ react-hook-form ของ image\r\n\r\n    //console.log('imageBase64 --->', imageBase64);\r\n   };\r\n   reader.readAsDataURL(file);\r\n  }\r\n };\r\n\r\n const onSetHandleFileUploadImage = files => {\r\n  let fileMap = files.map(file =>\r\n   Object.assign({\r\n    preview: URL.createObjectURL(file)\r\n   })\r\n  );\r\n\r\n  return fileMap[0].preview;\r\n };\r\n\r\n const onHandleDeleteImage = () => {\r\n  setSelectFile(null); // เซตค่าให้สำหรับ react-hook ในการกำหนด stage ให้โชว์ภาพหรือไม่โชว์ภาพ\r\n  setValue('image', ''); // เซตค่าให้สำหรับ react-hook-form ของ image ให้เท่ากับ ค่าว่าง\r\n };\r\n\r\n console.log('-------------render UploadImage-------------');\r\n\r\n return (\r\n  <Fragment>\r\n   <Typography variant=\"h5\" color=\"textPrimary\">\r\n    {t('equipments:form2.title')}\r\n   </Typography>\r\n   {/* \r\n    วิธีการทำ upload react-dropzone with react-hook-form\r\n    https://codesandbox.io/s/react-hook-form-with-react-dropzone-d4o2m?from-embed=&file=/src/App.js\r\n    */}\r\n   <Box className={classes.gridUploadImage} spacing={3}>\r\n    {selectFile === null ? (\r\n     <UploadImageItem onHandleFileSelect={onHandleFileSelect} />\r\n    ) : (\r\n     <ShowImageItem\r\n      file={selectFile}\r\n      onHandleDeleteImage={onHandleDeleteImage}\r\n     />\r\n    )}\r\n   </Box>\r\n  </Fragment>\r\n );\r\n}\r\n\r\nexport default UploadImages;\r\n","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Controller } from 'react-hook-form';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { TRANSLATE_NS } from 'src/constants';\r\nimport {\r\n Box,\r\n Button,\r\n TextField,\r\n Typography,\r\n makeStyles\r\n} from '@material-ui/core';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport ContactlessIcon from '@material-ui/icons/Contactless';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport Label from 'src/components/Label';\r\n\r\nconst textFields = [\r\n {\r\n  name: 'name',\r\n  multiple: false,\r\n  label: 'equipments:form1.name',\r\n  default: ''\r\n },\r\n {\r\n  name: 'description',\r\n  multiple: true,\r\n  label: 'equipments:form1.detail',\r\n  default: ''\r\n }\r\n];\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n root: {},\r\n btnScanRFIDStop: {\r\n  marginTop: theme.spacing(2),\r\n  backgroundColor: theme.palette.error.main,\r\n  color: theme.palette.common.white,\r\n  '&:hover': {\r\n   backgroundColor: theme.palette.error.dark\r\n  }\r\n },\r\n btnScanRFIDStart: {\r\n  marginTop: theme.spacing(2),\r\n  backgroundColor: theme.palette.secondary.main,\r\n  color: theme.palette.common.white,\r\n  '&:hover': {\r\n   backgroundColor: theme.palette.secondary.dark\r\n  }\r\n },\r\n btnRemoveScanRFID: {\r\n  color: theme.palette.error.main,\r\n  '&:hover': {\r\n   color: theme.palette.error.dark,\r\n   backgroundColor: fade(theme.palette.error.dark, 0.1)\r\n  }\r\n },\r\n btnIconScanRFID: {\r\n  marginRight: theme.spacing(1)\r\n }\r\n}));\r\n\r\nfunction EquipmentDetails({ ...useFormProp }) {\r\n const classes = useStyles();\r\n const dispatch = useDispatch();\r\n const { t } = useTranslation([\r\n  TRANSLATE_NS.EQUIPMENTS,\r\n  TRANSLATE_NS.TRANSLATIONS,\r\n  TRANSLATE_NS.ERRORS\r\n ]);\r\n\r\n const {\r\n  control,\r\n  errors,\r\n  rfidField,\r\n  watchRFIDFields,\r\n  isScanRFID,\r\n  isRfidList,\r\n  onScanRFID\r\n } = useFormProp;\r\n\r\n console.log(useFormProp);\r\n //  const { equipment } = useSelector(state => state.equipmentCreate);\r\n //  const { enqueueSnackbar } = useSnackbar();\r\n\r\n //  const schema = Yup.object().shape({\r\n //   name: Yup.string()\r\n //    .required(t('errors:required'))\r\n //    .min(3, t('errors:must be at least 3 characters'))\r\n //    .max(255),\r\n //   description: Yup.string()\r\n //  });\r\n //  const {\r\n //   register,\r\n //   handleSubmit,\r\n //   errors,\r\n //   control,\r\n //   formState,\r\n //   reset,\r\n //   watch,\r\n //   getValues\r\n //  } = useForm({\r\n //   mode: 'onChange',\r\n //   defaultValues: {\r\n //    name: '',\r\n //    description: '',\r\n //    rfidList: []\r\n //   },\r\n //   resolver: yupResolver(schema)\r\n //  });\r\n //  const watchRFIDFields = watch('rfidList');\r\n\r\n //  const { fields, append, remove } = useFieldArray({\r\n //   control,\r\n //   name: 'rfidList'\r\n //  });\r\n\r\n //  const { isDirty, isSubmitting } = formState;\r\n\r\n //  const onSubmit = handleSubmit(async data => {\r\n //   console.log('data -->', data);\r\n //   //เช็คว่า RFID มีข้อมูลไหม ถ้าไม่มีก็ไม่ต้องทำอะไรต่อ\r\n //   // if (watchRFIDFields.length === 0) {\r\n //   //   setIsRfidList(true);\r\n //   //   return;\r\n //   // }\r\n\r\n //   const callback = response => {\r\n //    if (response.resultFlag === false) {\r\n //     arcAction.error(response.errorMessage);\r\n //     return;\r\n //    }\r\n //    arcAction.success('Create success!');\r\n //    dispatch(updateInformationForm(response.value));\r\n //   };\r\n //   if (!data.id) {\r\n //    equipmentsService.insert(data).then(callback);\r\n //   } else {\r\n //    equipmentsService.update(data).then(callback);\r\n //   }\r\n //  });\r\n\r\n const hasError = inputName => !!(errors && errors[inputName]);\r\n const errorMessage = inputName => errors[inputName]?.message ?? null;\r\n\r\n //  console.log('render Detail --> ', equipment);\r\n //  if (!equipment) {\r\n //   return <SplashScreen />;\r\n //  }\r\n // console.log('watchRFIDFields -->', watchRFIDFields);\r\n\r\n console.log('-------------render DetailPage-------------');\r\n return (\r\n  <>\r\n   <Typography variant=\"h5\" color=\"textPrimary\">\r\n    {t('equipments:form1.title')}\r\n   </Typography>\r\n   <Box mt={2}>\r\n    <Typography variant=\"body2\" color=\"textSecondary\">\r\n     {t('equipments:form1.description text')}\r\n    </Typography>\r\n   </Box>\r\n   <Box mt={2}>\r\n    <Typography variant=\"subtitle1\" color=\"textSecondary\"></Typography>\r\n   </Box>\r\n   {textFields.map(field => (\r\n    <Box mt={2} key={field.name}>\r\n     {!field.multiple ? (\r\n      <Controller\r\n       data-testid={`txt-${field.name}`}\r\n       name={field.name}\r\n       control={control}\r\n       render={props => (\r\n        <TextField\r\n         error={hasError(field.name)}\r\n         helperText={errorMessage(field.name)}\r\n         variant=\"outlined\"\r\n         fullWidth\r\n         label={t(field.label)}\r\n         value={props.value}\r\n         {...props}\r\n         inputProps={{\r\n          'data-testid': `txt-${field.name}`\r\n         }}\r\n        />\r\n       )}\r\n      />\r\n     ) : (\r\n      <Controller\r\n       name={field.name}\r\n       control={control}\r\n       render={props => (\r\n        <TextField\r\n         error={hasError(field.name)}\r\n         helperText={errorMessage(field.name)}\r\n         variant=\"outlined\"\r\n         fullWidth\r\n         label={t(field.label)}\r\n         value={props.value}\r\n         multiline\r\n         rows={2}\r\n         rowsMax={5}\r\n         {...props}\r\n         inputProps={{\r\n          'data-testid': `txt-${field.name}`\r\n         }}\r\n        />\r\n       )}\r\n      />\r\n     )}\r\n    </Box>\r\n   ))}\r\n   <Box mt={2}>\r\n    <Typography variant=\"h6\" color=\"textPrimary\">\r\n     {t('equipments:form1.label for the rfid')}\r\n    </Typography>\r\n    <Typography variant=\"body2\" color=\"textSecondary\">\r\n     {t('equipments:form1.description for the rfid')}\r\n    </Typography>\r\n\r\n    {isRfidList && watchRFIDFields.length === 0 && (\r\n     <Box mt={2}>\r\n      <Label color=\"error\">\r\n       {t('equipments:form1.list empty for the rfid')}\r\n      </Label>\r\n     </Box>\r\n    )}\r\n\r\n    <Button\r\n     variant=\"contained\"\r\n     className={isScanRFID ? classes.btnScanRFIDStop : classes.btnScanRFIDStart}\r\n     onClick={onScanRFID}\r\n    >\r\n     {isScanRFID ? (\r\n      <Fragment>\r\n       <StopIcon className={classes.btnIconScanRFID} />\r\n       {t('equipments:stop scan register rfid medical tools')}\r\n      </Fragment>\r\n     ) : (\r\n      <Fragment>\r\n       <ContactlessIcon className={classes.btnIconScanRFID} />\r\n       {t('equipments:scan register rfid medical tools')}\r\n      </Fragment>\r\n     )}\r\n    </Button>\r\n\r\n    {rfidField.fields.map((item, index) => (\r\n     <Box\r\n      key={item.id}\r\n      pt={3}\r\n      pb={2}\r\n      display=\"flex\"\r\n      alignItems=\"center\"\r\n      justifyContent=\"space-between\"\r\n     >\r\n      <Controller\r\n       name={`rfidList[${index}].code`}\r\n       control={control}\r\n       defaultValue={`${item.code}`}\r\n       render={props => (\r\n        <Typography name={`rfidList[${index}].code`} color=\"textSecondary\">\r\n         {item.code}\r\n        </Typography>\r\n       )}\r\n      />\r\n      {/* <IconButton\r\n              className={classes.btnRemoveScanRFID}\r\n              component=\"span\"\r\n              onClick={() => remove(index)}\r\n            >\r\n              <DeleteIcon />\r\n            </IconButton> */}\r\n     </Box>\r\n    ))}\r\n   </Box>\r\n  </>\r\n );\r\n}\r\nEquipmentDetails.propTypes = {\r\n useFormProp: PropTypes.shape({\r\n  control: PropTypes.object,\r\n  errors: PropTypes.object,\r\n  rfidField: PropTypes.object,\r\n  watchRFIDFields: PropTypes.array,\r\n  isScanRFID: PropTypes.bool,\r\n  isRfidList: PropTypes.bool,\r\n  onScanRFID: PropTypes.func\r\n })\r\n};\r\n\r\nexport default EquipmentDetails;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useDispatch } from 'react-redux';\r\nimport { TRANSLATE_NS } from 'src/constants';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport {\r\n Avatar,\r\n Box,\r\n Button,\r\n Card,\r\n CardContent,\r\n Step,\r\n StepConnector,\r\n StepLabel,\r\n Stepper,\r\n Typography,\r\n makeStyles,\r\n withStyles,\r\n colors,\r\n Grid\r\n} from '@material-ui/core';\r\nimport * as Yup from 'yup';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { yupResolver } from '@hookform/resolvers';\r\nimport { useForm, useFieldArray } from 'react-hook-form';\r\nimport { Star as StarIcon } from 'react-feather';\r\nimport { arcAction } from 'src/utils/NotificationUtil';\r\nimport Page from 'src/components/Page';\r\nimport equipmentsService from 'src/services/equipmentService';\r\nimport UploadImageItem from './UploadImages';\r\nimport Detail from './Detail';\r\n\r\nconst steps = [\r\n {\r\n  label: 'ข้อมูลอุปกรณ์ทางการแพทย์'\r\n },\r\n {\r\n  label: 'เพิ่มรูปภาพ'\r\n }\r\n];\r\n\r\nconst CustomStepConnector = withStyles(theme => ({\r\n vertical: {\r\n  marginLeft: theme.spacing(2),\r\n  padding: theme.spacing(1, 0, 1, 0)\r\n  //padding: 0\r\n },\r\n line: {\r\n  borderColor: theme.palette.divider\r\n }\r\n}))(StepConnector);\r\n\r\nconst useCustomStepIconStyles = makeStyles(theme => ({\r\n root: {\r\n  backgroundColor: theme.palette.background.paper,\r\n  zIndex: 1,\r\n  color: theme.palette.action.disabled,\r\n  width: '2rem',\r\n  height: '2rem',\r\n  display: 'flex',\r\n  borderRadius: '50%',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  fontSize: '1rem',\r\n  lineHeight: '1.75rem',\r\n  borderWidth: '0.1rem',\r\n  borderStyle: 'solid',\r\n  borderColor: theme.palette.action.disabled\r\n },\r\n active: {\r\n  // backgroundColor: theme.palette.secondary.main\r\n  backgroundColor: theme.palette.background.paper,\r\n  width: '2rem',\r\n  height: '2rem',\r\n  borderWidth: '0.1rem',\r\n  borderStyle: 'solid',\r\n  borderColor: theme.palette.action.active,\r\n  color: theme.palette.action.active\r\n },\r\n completed: {\r\n  //backgroundColor: theme.palette.secondary.main,\r\n  //color: theme.palette.text.secondary,\r\n  backgroundColor: theme.palette.background.paper,\r\n  borderWidth: '0.1rem',\r\n  borderStyle: 'solid',\r\n  borderColor: theme.palette.action.disabled\r\n }\r\n}));\r\n\r\nfunction CustomStepIcon({ active, completed, icon }) {\r\n const classes = useCustomStepIconStyles();\r\n const stepNumber = icon;\r\n return (\r\n  <Avatar\r\n   className={clsx(classes.root, {\r\n    [classes.active]: active,\r\n    [classes.completed]: completed\r\n   })}\r\n  >\r\n   {stepNumber}\r\n  </Avatar>\r\n );\r\n}\r\n\r\nCustomStepIcon.propTypes = {\r\n active: PropTypes.bool,\r\n completed: PropTypes.bool,\r\n icon: PropTypes.number\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n root: {\r\n  backgroundColor: theme.palette.background.default,\r\n  minHeight: '100%',\r\n  padding: theme.spacing(2, 0),\r\n  '& .MuiStepLabel-label': {\r\n   color: theme.palette.action.disabled\r\n  },\r\n  '& .MuiStepLabel-active': {\r\n   color: theme.palette.action.active\r\n  }\r\n },\r\n stepperRoot: {\r\n  padding: theme.spacing(3, 0)\r\n },\r\n stepperLabel: {\r\n  color: theme.palette.text.secondary\r\n },\r\n drawerPaper: {\r\n  width: '300px',\r\n  padding: theme.spacing(2, 3, 0, 3)\r\n },\r\n drawerTypoFontWeight: {\r\n  fontWeight: 'bold'\r\n },\r\n btnSaveForm: {\r\n  marginLeft: theme.spacing(4)\r\n },\r\n boxContainer: {\r\n  // [theme.breakpoints.up('md')]: {\r\n  //   marginLeft: '300px'\r\n  // },\r\n  //marginLeft: '300px',\r\n  padding: theme.spacing(0, 9, 0, 9),\r\n  height: '100%'\r\n },\r\n avatar: {\r\n  backgroundColor: colors.red[600]\r\n }\r\n}));\r\n\r\nfunction EquipmentCreateView({ match }) {\r\n const classes = useStyles();\r\n const { t } = useTranslation([\r\n  TRANSLATE_NS.EQUIPMENTS,\r\n  TRANSLATE_NS.TRANSLATIONS\r\n ]);\r\n const [completed, setCompleted] = useState(false);\r\n const isFirst = useRef(true);\r\n const [isScanRFID, setIsScanRFID] = useState(false);\r\n const [isRfidList, setIsRfidList] = useState(false);\r\n const equipmentId = match.params?.id;\r\n\r\n const schema = Yup.object().shape({\r\n  name: Yup.string()\r\n   .required(t('errors:required'))\r\n   .min(3, t('errors:must be at least 3 characters'))\r\n   .max(255),\r\n  description: Yup.string()\r\n });\r\n const {\r\n  handleSubmit,\r\n  errors,\r\n  control,\r\n  setValue,\r\n  reset,\r\n  watch,\r\n  getValues\r\n } = useForm({\r\n  mode: 'onChange',\r\n  defaultValues: {\r\n   name: '',\r\n   description: '',\r\n   image: '',\r\n   rfidList: []\r\n  },\r\n  shouldUnregister: false,\r\n  resolver: yupResolver(schema)\r\n });\r\n\r\n const rfidField = useFieldArray({\r\n  control,\r\n  name: 'rfidList'\r\n });\r\n\r\n const watchRFIDFields = watch('rfidList');\r\n\r\n const onSubmit = handleSubmit(async data => {\r\n  if (watchRFIDFields.length === 0) {\r\n   setIsRfidList(true);\r\n   return;\r\n  }\r\n\r\n  const callback = response => {\r\n   if (response.resultFlag) {\r\n    arcAction.success(t('equipments:you are all done'));\r\n    setCompleted(true);\r\n   } else {\r\n    arcAction.errorObj(response);\r\n   }\r\n  };\r\n  if (!data.id) {\r\n   equipmentsService.insert(data).then(callback);\r\n  } else {\r\n   //    const dataItem = Object.assign({}, set, data);\r\n   equipmentsService.update(data).then(callback);\r\n  }\r\n });\r\n\r\n const onScanRFID = event => {\r\n  event.persist();\r\n  if (isScanRFID) {\r\n   setIsScanRFID(false);\r\n  } else {\r\n   setIsScanRFID(true);\r\n   setIsRfidList(false);\r\n\r\n   for (let i = 0; i < 5; i++) {\r\n    setTimeout(() => {\r\n     const newId = uuidv4();\r\n     rfidField.append({ code: newId });\r\n     // List แสดงผลของ ข้อมูล List ที่ถูก append ใน UI\r\n     const listRFID = getValues().rfidList;\r\n     const listRFIDFind = listRFID.find(item => {\r\n      return item.code === newId;\r\n     });\r\n     if (listRFIDFind.code === newId) {\r\n      console.log('Code RFID Same in list.');\r\n     }\r\n    }, 1000);\r\n   }\r\n  }\r\n };\r\n\r\n useEffect(() => {\r\n  async function getById() {\r\n   const dataItem = await equipmentsService.getById(equipmentId);\r\n   reset({ ...dataItem?.value });\r\n   // await dispatch(initCreate(dataItem?.value));\r\n   console.log('Data respones -->', dataItem);\r\n  }\r\n  if (isFirst.current) {\r\n   if (equipmentId) {\r\n    getById();\r\n   }\r\n   isFirst.current = false;\r\n  }\r\n }, [equipmentId, reset]);\r\n\r\n console.log('-------------render IndexDetailPage-------------');\r\n\r\n return (\r\n  <Page\r\n   className={classes.root}\r\n   title={t('equipments:add register medical tools')}\r\n  >\r\n   {!completed ? (\r\n    <Box className={classes.boxContainer}>\r\n     <Box display=\"flex\" justifyContent=\"space-between\" mb={2}>\r\n      <Box>\r\n       <Typography variant=\"h6\" gutterBottom color=\"textSecondary\">\r\n        {t('equipments:register medical tools')}\r\n       </Typography>\r\n\r\n       <Typography\r\n        variant=\"h2\"\r\n        gutterBottom\r\n        color=\"textPrimary\"\r\n        className={classes.drawerTypoFontWeight}\r\n       >\r\n        {t('equipments:add register medical tools')}\r\n       </Typography>\r\n      </Box>\r\n      <Box>\r\n       <Button\r\n        variant=\"outlined\"\r\n        size=\"medium\"\r\n        color=\"default\"\r\n        component={RouterLink}\r\n        to=\"/equipments\"\r\n       >\r\n        {t('equipments:button.exit')}\r\n       </Button>\r\n\r\n       <Button\r\n        className={classes.btnSaveForm}\r\n        color=\"primary\"\r\n        onClick={() => {\r\n         handleSubmit(onSubmit)();\r\n        }}\r\n        variant=\"contained\"\r\n        size=\"medium\"\r\n        data-testid=\"submit\"\r\n       >\r\n        {t('equipments:button.save')}\r\n       </Button>\r\n      </Box>\r\n     </Box>\r\n     <form onSubmit={onSubmit}>\r\n      <Grid className={classes.gridUploadImage} container spacing={3}>\r\n       <Grid item xs={12} sm={12} md={4}>\r\n        <UploadImageItem {...{ setValue }} />\r\n       </Grid>\r\n       <Grid item xs={12} sm={12} md={8}>\r\n        <Detail\r\n         {...{\r\n          control,\r\n          errors,\r\n          rfidField,\r\n          watchRFIDFields,\r\n          isScanRFID,\r\n          isRfidList,\r\n          onScanRFID\r\n         }}\r\n        />\r\n       </Grid>\r\n      </Grid>\r\n     </form>\r\n    </Box>\r\n   ) : (\r\n    <Card>\r\n     <CardContent>\r\n      <Box maxWidth={450} mx=\"auto\">\r\n       <Box display=\"flex\" justifyContent=\"center\">\r\n        <Avatar className={classes.avatar}>\r\n         <StarIcon />\r\n        </Avatar>\r\n       </Box>\r\n       <Box mt={2}>\r\n        <Typography variant=\"h3\" color=\"textPrimary\" align=\"center\">\r\n         {t('equipments:you are all done')}\r\n        </Typography>\r\n       </Box>\r\n       <Box mt={2}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n         {t('equipments:message')}\r\n        </Typography>\r\n       </Box>\r\n       <Box mt={2} display=\"flex\" justifyContent=\"center\">\r\n        <Button\r\n         variant=\"contained\"\r\n         color=\"secondary\"\r\n         component={RouterLink}\r\n         to=\"/equipments\"\r\n        >\r\n         {t('equipments:view your medical tools')}\r\n        </Button>\r\n       </Box>\r\n      </Box>\r\n     </CardContent>\r\n    </Card>\r\n   )}\r\n  </Page>\r\n );\r\n}\r\n\r\nexport default EquipmentCreateView;\r\n"],"sourceRoot":""}